import{D as e,S as s,d as t,r as a,J as l,K as i,T as r,y as n,o as u,c as d,w as o,h as c,N as p,a as m,O as g,j as f,b,F as y,l as z,Q as v,i as h,m as T,R as I,_ as j,B as k,g as S}from"./index-9a4aa426.js";const x={...e,styleOpt:{type:Object,default:()=>({itemStyle:{},startStyle:{},bgStyle:{background:"rgb(255, 231, 149)"}})},prizeList:{type:Array,required:!0},disabled:Boolean,prizeIndex:s(-1),speed:s(150),circle:s(30)},E=`${I}-marquee`,N=t({name:E,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),L=j(t({...N,props:x,emits:{click:()=>!0,startTurns:()=>!0,endTurns:()=>!0},setup(e,{emit:s}){const t=e,I=s;let{prizeList:j,styleOpt:k}=a(t);const S=l((()=>v(t,E)));i((()=>{})),r((()=>t.prizeList),((e,s)=>{j=e}));const x=n(null),N=n(!1),L=n(0),O=n(0),_=n(+t.speed),q=n(t.circle),C=n(null),B=k.bgStyle,M=k.itemStyle,w=k.startStyle;function D(){O.value+=1;let e=L.value;e+=1,e>7&&(e=0),L.value=e,O.value>+q.value&&t.prizeIndex===L.value?(clearTimeout(C.value),C.value=0,O.value=0,_.value=+t.speed,q.value=t.circle,setTimeout((()=>{L.value=+t.prizeIndex,I("endTurns"),N.value=!1}),500)):(O.value<+q.value?_.value-=4:_.value+=20,C.value=setTimeout(D,_.value))}function H(){I("click"),t.disabled||N.value||(N.value=!0,I("startTurns"),D())}return(e,s)=>{const a=h,l=T;return u(),d(a,{ref_key:"marqueeDom",ref:x,class:g(S.value),style:p(e.customStyle)},{default:o((()=>[c(a,{class:"bgContent"}),c(a,{class:"marqueeBg",style:p(m(B))},null,8,["style"]),c(a,{class:g(["start",[{disabledDraw:N.value||t.disabled}]]),style:p(m(w)),onClick:H},null,8,["class","style"]),f("ul",{class:"gift-list"},[(u(!0),b(y,null,z(m(j),((e,s)=>(u(),b("li",{key:`luckmarquee${s}`,class:g(["gift-item",[`gift-${s+1}`,{active:L.value===s}]]),style:p(m(M))},[f("div",{class:"gift-img"},[c(l,{src:e.prizeImg},null,8,["src"])]),f("span",{class:"desc",innerHTML:e.prizeName},null,8,["innerHTML"])],6)))),128))])])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-e69835a2"]]);const O=j({setup(){const e=n([{id:"xiaomi",prizeName:"小米手机",prizeImg:"https://img14.360buyimg.com/imagetools/jfs/t1/104165/34/15186/96522/5e6f1435E46bc0cb0/d4e878a15bfd9362.png"},{id:"blue",prizeColor:"rgb(251, 219, 216)",prizeName:"蓝牙耳机",prizeImg:"https://img13.360buyimg.com/imagetools/jfs/t1/91864/11/15108/139003/5e6f146dE1c7b511d/1ddc5aa6e502060a.jpg"},{id:"thanks",prizeName:"谢谢参与",prizeImg:"https://img11.360buyimg.com/imagetools/jfs/t1/96116/38/15085/5181/5e6f15d1E48e31d30/71353b61dff705d4.png"},{id:"apple",prizeName:"apple watch",prizeImg:"https://img11.360buyimg.com/imagetools/jfs/t1/105385/19/15140/111093/5e6f1506E48bd0dfb/829a98a8cdb4c27f.png"},{id:"fruit",prizeColor:"rgba(246, 142, 46, 0.5)",prizeName:"迪士尼苹果",prizeImg:"https://img11.360buyimg.com/imagetools/jfs/t1/108308/11/8890/237603/5e6f157eE489cccf1/26e0437cfd93b9c8.png"},{id:"thanks",prizeName:"谢谢参与",prizeImg:"https://img11.360buyimg.com/imagetools/jfs/t1/96116/38/15085/5181/5e6f15d1E48e31d30/71353b61dff705d4.png"},{id:"fish",prizeName:"海鲜套餐",prizeImg:"https://img14.360buyimg.com/imagetools/jfs/t1/90507/38/15165/448364/5e6f15b4E5df0c718/4bd4c3d375eec312.png"},{id:"thanks",prizeName:"谢谢参与",prizeImg:"https://img11.360buyimg.com/imagetools/jfs/t1/96116/38/15085/5181/5e6f15d1E48e31d30/71353b61dff705d4.png"}]),s=a({prizeItem:{},startStyle:{},contentBg:{background:"rgb(255, 231, 149)"}}),t=n(0);return{prizeList:e,styleOpt:s,prizeIndex:t,startTurns:()=>{const s=Math.floor(Math.random()*e.value.length);t.value=s},endTurns:()=>{k({title:"中奖了",icon:"success",duration:2e3})}}}},[["render",function(e,s,t,a,l,i){const r=L,n=S("layout-default-uni");return u(),d(n,null,{default:o((()=>[f("div",{class:"demo h-100vh!"},[f("h2",{class:"title"}," 基础用法 "),c(r,{"prize-list":a.prizeList,"prize-index":a.prizeIndex,speed:100,circle:40,"style-opt":a.styleOpt,onStartTurns:a.startTurns,onEndTurns:a.endTurns},null,8,["prize-list","prize-index","style-opt","onStartTurns","onEndTurns"])])])),_:1})}]]);export{O as default};
