import{_ as e}from"./cell.b00ee112.js";/* empty css              */import{D as s,a5 as l,G as a,Z as o,H as t,a1 as i,d as n,o as m,c,w as d,h as r,v as u,O as p,k as f,q as _,X as h,j as y,m as g,i as v,p as k,R as b,_ as C,y as I,T as w,K as x,b as j,F as $,l as H,x as O,a as z,J as S,N as T,Q as E,a7 as G,a8 as U,a9 as V,g as R}from"./index-9a4aa426.js";import{_ as A}from"./rate.8c7cd618.js";import{u as N}from"./useTranslate.6f3ff1af.js";import{i as F}from"./index.99f72493.js";import"./form.b2296b86.js";import"./useInject.f710a5e3.js";const L={...s,headerType:l("default"),imagesRows:l("one"),ellipsis:{type:[String,Number,Boolean],default:!1},videos:a([]),images:a([]),info:o({}),labels:{type:Function,default:()=>""},follow:o({}),operation:a(["replay","like","more"])},q={[t]:e=>e instanceof Object,clickOperate:e=>i(e),clickImages:e=>e instanceof Object},B=n({name:`${b}-comment-header`,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),D=C(n({...B,props:{type:{type:String,default:"default"},info:{type:Object,default:()=>({})}},emits:["handleClick"],setup(e,{emit:s}){const l=s;function a(){l("handleClick")}return(s,l)=>{const o=g,t=v,i=k;return m(),c(t,null,{default:d((()=>[e.info?(m(),c(t,{key:0,class:"hs-comment-header",onClick:a},{default:d((()=>[r(t,{class:"hs-comment-header__user"},{default:d((()=>[r(t,{class:"hs-comment-header__user-avter"},{default:d((()=>[e.info.avatar?(m(),c(o,{key:0,src:e.info.avatar},null,8,["src"])):u("",!0)])),_:1}),"default"===e.type?(m(),c(t,{key:0,class:p([`hs-comment-header__user-${e.type}`])},{default:d((()=>[r(t,{class:p([`hs-comment-header__user-${e.type}-name`])},{default:d((()=>[r(i,null,{default:d((()=>[f(_(e.info.nickName),1)])),_:1}),h(s.$slots,"labels",{},void 0,!0)])),_:3},8,["class"]),r(t,{class:"hs-comment-header__user-score"},{default:d((()=>[r(A,{modelValue:e.info.score,"onUpdate:modelValue":l[0]||(l[0]=s=>e.info.score=s),size:"12",spacing:"5",readonly:"",onChange:a},null,8,["modelValue"])])),_:1})])),_:3},8,["class"])):(m(),c(t,{key:1,class:p([`hs-comment-header__user-${e.type}`])},{default:d((()=>[r(i,{class:p([`hs-comment-header__user-${e.type}-name`])},{default:d((()=>[f(_(e.info.nickName),1)])),_:1},8,["class"]),h(s.$slots,"labels",{},void 0,!0)])),_:3},8,["class"]))])),_:3}),e.info.time?(m(),c(t,{key:0,class:"hs-comment-header__time"},{default:d((()=>[f(_(e.info.time),1)])),_:1})):u("",!0)])),_:3})):u("",!0),"complex"===e.type?(m(),c(t,{key:1,class:p([`hs-comment-header__${e.type}-score`])},{default:d((()=>[r(A,{modelValue:e.info.score,"onUpdate:modelValue":l[1]||(l[1]=s=>e.info.score=s),size:"12",spacing:"3",readonly:""},null,8,["modelValue"]),y("i",{class:p([`hs-comment-header__${e.type}-score-i`])},null,2),r(t,{class:p([`hs-comment-header__${e.type}-score-size`])},{default:d((()=>[f(_(e.info.size),1)])),_:1},8,["class"])])),_:1},8,["class"])):u("",!0)])),_:3})}}}),[["__scopeId","data-v-77872ec4"]]),J=n({name:`${b}-comment-images`,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),K=C(n({...J,props:{type:{type:String,default:"one"},videos:{type:Array,default:()=>[]},images:{type:Array,default:()=>[]}},emits:["click","clickImages"],setup(e,{emit:s}){const l=e,a=s,o=I([]);function t(e,s){const{videos:o,images:t}=l,i="img"===e?s-o.length:s;a("clickImages",{type:e,index:i,value:"img"===e?t[i]:o[i]})}return w((()=>[l.videos,l.images]),(e=>{e[0].length>0&&e[0].forEach((e=>{e.type="video"})),o.value=e[0].concat(e[1])}),{deep:!0}),x((()=>{l.videos.length>0&&l.videos.forEach((e=>{e.type="video"})),o.value=l.videos.concat(l.images)})),(s,l)=>{const a=g,i=v,n=k;return m(),c(i,{class:p(`hs-comment-images hs-comment-images--${e.type}`)},{default:d((()=>[(m(!0),j($,null,H(e.videos,((e,s)=>(m(),c(i,{key:e.id,class:"hs-comment-images__item hs-comment-images__item--video",onClick:e=>t("video",s)},{default:d((()=>[r(a,{src:e.mainUrl},null,8,["src"]),r(i,{class:"hs-comment-images__play"})])),_:2},1032,["onClick"])))),128)),(m(!0),j($,null,H(e.images,((s,l)=>(m(),j($,{key:s.id},["multi"===e.type&&e.videos.length+l<9||"multi"!==e.type?(m(),c(i,{key:0,class:"hs-comment-images__item hs-comment-images__item--imgbox",onClick:s=>t("img",l+e.videos.length)},{default:d((()=>[r(a,{src:s.smallImgUrl?s.smallImgUrl:s.imgUrl},null,8,["src"]),"multi"===e.type&&o.value.length>9&&e.videos.length+l>7?(m(),c(i,{key:0,class:"hs-comment-images__mask"},{default:d((()=>[r(n,null,{default:d((()=>[f("共 "+_(o.value.length)+" 张",1)])),_:1}),r(O,{name:"right",size:"12px"})])),_:1})):u("",!0)])),_:2},1032,["onClick"])):u("",!0)],64)))),128))])),_:1},8,["class"])}}}),[["__scopeId","data-v-da2ec203"]]),Q=`${b}-comment-bottom`,{translate:X}=N(Q),Z=n({name:Q,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),M=C(n({...Z,props:{type:{type:String,default:"base"},info:{type:Object,default:()=>({})},operation:{type:Array,default:()=>["replay","like","more"]}},emits:["clickOperate","handleClick"],setup(e,{emit:s}){const l=e,a=s,o=I(!1),t=I([]);function i(e){"more"===e&&(o.value=!o.value),a("clickOperate",e)}function n(){a("handleClick")}return x((()=>{const e=["replay","like","more"];l.operation&&l.operation.forEach((s=>{e.includes(s)&&t.value.push(s)}))})),(s,l)=>{const a=v,h=k;return m(),c(a,{class:"hs-comment-bottom"},{default:d((()=>[r(a,{class:"hs-comment-bottom__lable",onClick:n},{default:d((()=>["complex"!==e.type?(m(),j("span",{key:0,style:{display:"inline","white-space":"none"}},_(e.info.size),1)):u("",!0)])),_:1}),r(a,{class:"hs-comment-bottom__cpx"},{default:d((()=>[(m(!0),j($,null,H(t.value,((s,t)=>(m(),c(a,{key:t,class:p(["hs-comment-bottom__cpx-item",[`hs-comment-bottom__cpx-item--${s}`]]),onClick:e=>i(s)},{default:d((()=>["more"!==s?(m(),j($,{key:0},[r(h,null,{default:d((()=>[f(_(e.info[s]),1)])),_:2},1024),"like"===s?(m(),c(O,{key:0,name:"fabulous"})):(m(),c(O,{key:1,name:"comment"}))],64)):u("",!0),"more"===s?(m(),j($,{key:1},[r(O,{name:"more-x"}),o.value?(m(),c(a,{key:0,class:"hs-comment-bottom__cpx-item-popover",onClick:l[0]||(l[0]=e=>i("popover"))},{default:d((()=>[f(_(z(X)("complaintsText")),1)])),_:1})):u("",!0)],64)):u("",!0)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})}}}),[["__scopeId","data-v-08589f75"]]),P=`${b}-comment`,W=n({name:P,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),Y=C(n({...W,props:L,emits:q,setup(e,{emit:s}){const l=e,a=s,o=S((()=>E(l,P))),i=S((()=>l.ellipsis?l.ellipsis:"complex"===l.headerType?6:2));function n(e){a("clickOperate",e)}function y(){a(t,l.info)}function g(e){a("clickImages",e)}return(e,s)=>{const l=G,a=v;return e.info&&Object.keys(e.info)?(m(),c(a,{key:0,class:p(o.value),style:T(e.customStyle)},{default:d((()=>[r(D,{type:e.headerType,info:e.info,labels:e.labels,onHandleClick:y},{labels:d((()=>[h(e.$slots,"commentLabels",{},void 0,!0)])),_:3},8,["type","info","labels"]),h(e.$slots,"feature",{},void 0,!0),r(l,{class:"hs-comment__main",style:T(`-webkit-line-clamp:${i.value}`),nodes:e.info.content,onClick:y},null,8,["style","nodes"]),r(K,{images:e.images,videos:e.videos,type:e.imagesRows,onClickImages:g},null,8,["images","videos","type"]),e.follow&&e.follow.days>0?(m(),c(a,{key:0,class:"hs-comment__follow",onClick:y},{default:d((()=>[r(a,{class:"hs-comment__follow-title"},{default:d((()=>[f(" 购买"+_(e.follow.days)+"天后追评 ",1)])),_:1}),r(a,{class:"hs-comment__follow-com"},{default:d((()=>[f(_(e.follow.content),1)])),_:1}),e.follow.images&&e.follow.images.length>0?(m(),c(a,{key:0,class:"hs-comment__follow-img",onClick:s[0]||(s[0]=s=>g(e.follow.images))},{default:d((()=>[f(_(e.follow.images.length)+" 张追评图片 ",1),r(O,{name:"right",size:"12px"})])),_:1})):u("",!0)])),_:1})):u("",!0),r(M,{type:e.headerType,info:e.info,operation:e.operation,onClickOperate:n,onHandleClick:y},null,8,["type","info","operation"]),h(e.$slots,"commentShopReply",{},void 0,!0)])),_:3},8,["class","style"])):u("",!0)}}}),[["__scopeId","data-v-f625bd2d"]]);const ee=C(n({setup(){const e=I();U((()=>{V({method:"GET",url:"https://storage.360buyimg.com/nutui/3x/comment_data.json",success:s=>{s.data.Comment.info.avatar="https://img14.360buyimg.com/imagetools/jfs/t1/167902/2/8762/791358/603742d7E9b4275e3/e09d8f9a8bf4c0ef.png",e.value=s.data.Comment}})}));return{isH5:F,cmt:e,handleclick:e=>{console.log("进行跳转",e)},clickImages:e=>{console.log("进行图片展示",e)}}}}),[["render",function(s,l,a,o,t,i){const n=g,u=Y,p=e,_=k,h=R("layout-default-uni");return m(),c(h,null,{default:d((()=>[y("div",{class:"demo"},[y("h2",{class:"title"}," 评论图片单行展示 "),r(p,null,{default:d((()=>{var e,l,a;return[r(u,{images:null==(e=s.cmt)?void 0:e.images,videos:s.isH5?null==(l=s.cmt)?void 0:l.videos:"",info:null==(a=s.cmt)?void 0:a.info,operation:["replay"],onClick:s.handleclick,onClickImages:s.clickImages},{commentLabels:d((()=>[r(n,{class:"hs-comment-header__labels--item",src:"https://img11.360buyimg.com/imagetools/jfs/t1/211858/17/4258/12101/618e6f78Ed0edcadc/e83a673555edf59f.jpg",style:{width:"50px"},mode:"widthFix"})])),_:1},8,["images","videos","info","onClick","onClickImages"])]})),_:1}),y("h2",{class:"title"}," 评论图片多行展示 "),r(p,null,{default:d((()=>{var e,l,a;return[r(u,{"header-type":"complex","images-rows":"multi",images:null==(e=s.cmt)?void 0:e.images,videos:s.isH5?null==(l=s.cmt)?void 0:l.videos:"",info:null==(a=s.cmt)?void 0:a.info,ellipsis:"6",onClickImages:s.clickImages},{commentLabels:d((()=>[r(n,{class:"hs-comment-header__labels--item",src:"https://storage.360buyimg.com/imgtools/78925d9440-f9e874d0-e93d-11eb-8e5c-0da9e18a13b1.png",style:{height:"12px",width:"60rpx"}})])),commentShopReply:d((()=>[y("div",{class:"hs-comment-shop"},[r(_,{style:{display:"inline"}},{default:d((()=>[f(" 京东美妆国际： ")])),_:1}),f("尊敬的客户您好，非常抱歉给您带来不愉快的购物体验，关于过敏，什么成分都不存在个别性和普遍性。 ")])])),_:1},8,["images","videos","info","onClickImages"])]})),_:1}),y("h2",{class:"title"}," 追评 "),r(p,null,{default:d((()=>{var e,l,a,o;return[r(u,{"images-rows":"multi",images:null==(e=s.cmt)?void 0:e.images,videos:s.isH5?null==(l=s.cmt)?void 0:l.videos:"",info:null==(a=s.cmt)?void 0:a.info,follow:null==(o=s.cmt)?void 0:o.follow,onClickImages:s.clickImages},null,8,["images","videos","info","follow","onClickImages"])]})),_:1})])])),_:1})}]]);export{ee as default};
