import{D as e,a5 as a,S as t,Y as o,E as s,H as l,aV as n,aW as i,ae as r,ad as c,ab as u,a1 as d,a0 as p,at as m,d as f,aE as h,J as y,y as g,T as b,K as v,o as x,c as S,w,h as C,X as j,v as k,O as B,N as _,a as O,k as L,q as $,C as E,x as I,Q as T,i as z,I as A,p as N,R as V,av as q,_ as H}from"./index-9a4aa426.js";import{u as K}from"./form.b2296b86.js";import{a as W}from"./env.43007fb8.js";const F={...e,type:a("text"),modelValue:t(""),inputClass:{type:[String,Object,Array],default:""},inputStyle:{type:[String,Object,Array],default:""},placeholder:a(""),placeholderStyle:a(""),placeholderClass:a("input-placeholder"),inputAlign:a("left"),required:Boolean,disabled:Boolean,readonly:Boolean,error:Boolean,maxLength:t(140),clearable:Boolean,clearSize:t("14"),border:o,formatTrigger:a("onChange"),formatter:{type:Function,default:null},showWordLimit:Boolean,autofocus:Boolean,confirmType:a("done"),adjustPosition:o,alwaysSystem:Boolean,showClearIcon:Boolean,inputMode:a("text"),cursorSpacing:s(0),alwaysEmbed:Boolean,confirmHold:Boolean,cursor:Number,selectionStart:s(-1),selectionEnd:s(-1),holdKeyboard:Boolean},M={[l]:e=>e instanceof Object,clickInput:e=>e instanceof Object,[n]:e=>e instanceof Object,[i]:e=>e instanceof Object,[r]:()=>!0,[c]:e=>e instanceof Object,[u]:(e,a)=>(d(e)||p(e))&&(a instanceof Object||void 0===a),[m]:(e,a)=>(d(e)||p(e))&&a instanceof Object};function P(e,a,t){const o=e.indexOf(a);return-1===o?e:"-"===a&&0!==o?e.slice(0,o):e.slice(0,o+1)+e.slice(o).replace(t,"")}function X(e,a=!0,t=!0){e=a?P(e,".",/\./g):e.split(".")[0];const o=a?/[^-0-9.]/g:/[^-0-9]/g;return(e=t?P(e,"-",/-/g):e.replace(/-/,"")).replace(o,"")}const D=`${V}-input`,G=f({name:D,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),J=H(f({...G,props:F,emits:M,setup(e,{emit:a}){const t=e,o=a,s=K(h(t,"disabled"));function d(){return null==t.modelValue?"":String(t.modelValue)}const p=y((()=>d())),f=y((()=>T(t,D,{[`${D}--disabled`]:s.value,[`${D}--required`]:t.required,[`${D}--error`]:t.error,[`${D}--border`]:t.border,[`${D}-text`]:!0}))),V=y((()=>[t.inputStyle,{textAlign:t.inputAlign}])),H=y((()=>"number"===t.type?"tel":"digit"===t.type?"text":t.type)),F=y((()=>"digit"===t.type?"decimal":"number"===t.type?"numeric":t.inputMode)),M=y((()=>t.maxLength?Number(t.maxLength):-1));function P(e,a="onChange"){t.maxLength&&e.length>Number(t.maxLength)&&(e=e.slice(0,Number(t.maxLength))),"number"===t.type&&(e=X(e,!1,!1)),"digit"===t.type&&(e=X(e,!0,!0)),t.formatter&&a===t.formatTrigger&&(e=t.formatter(e)),o(u,e)}function G(e){P(e.detail.value),q((()=>{o(m,p.value,e)}))}function J(e){if(W){e.target.composing||G(e)}else G(e)}function Q(e){o(l,e)}function R(e){s.value||o("clickInput",e)}const Y=g(!1);function U(e){s.value||t.readonly||(Y.value=!0,o(i,e))}function Z(e){s.value||t.readonly||(setTimeout((()=>{Y.value=!1}),200),P(e.detail.value,"onBlur"),o(n,e))}function ee(e){o(c,e)}function ae(e){s.value||(o(u,"",e),o(r))}function te(e){if(W){e.target.composing=!0}}function oe(e){if(W){const a=e.target;a.composing&&(a.composing=!1,a.dispatchEvent(new Event("input")))}}return b((()=>t.modelValue),(e=>{e!==p.value&&P(d())})),v((()=>{P(d(),t.formatTrigger)})),(e,a)=>{const o=z,l=A,n=N;return x(),S(o,{class:B(f.value),style:_(t.customStyle),onClick:Q},{default:w((()=>[C(o,{class:"hs-input-value"},{default:w((()=>[C(o,{class:"hs-input-inner"},{default:w((()=>[e.$slots.left?(x(),S(o,{key:0,class:"hs-input-left-box"},{default:w((()=>[j(e.$slots,"left",{},void 0,!0)])),_:3})):k("",!0),C(o,{class:"hs-input-box"},{default:w((()=>[C(l,{class:B(["input-text",t.inputClass]),style:_(V.value),value:p.value,type:H.value,placeholder:t.placeholder,"placeholder-style":t.placeholderStyle,"placeholder-class":t.placeholderClass,disabled:O(s),readonly:t.readonly,focus:t.autofocus,maxlength:M.value,"format-trigger":t.formatTrigger,"auto-blur":!!t.autofocus||void 0,"confirm-type":t.confirmType,"adjust-position":t.adjustPosition,"always-system":t.alwaysSystem,"input-mode":F.value,"cursor-spacing":t.cursorSpacing,"always-embed":t.alwaysEmbed,"confirm-hold":t.confirmHold,cursor:t.cursor,"selection-start":t.selectionStart,"selection-end":t.selectionEnd,"hold-keyboard":t.holdKeyboard,onInput:J,onFocus:U,onBlur:Z,onClick:R,onChange:oe,onCompositionstart:te,onCompositionend:oe,onConfirm:ee},null,8,["class","style","value","type","placeholder","placeholder-style","placeholder-class","disabled","readonly","focus","maxlength","format-trigger","auto-blur","confirm-type","adjust-position","always-system","input-mode","cursor-spacing","always-embed","confirm-hold","cursor","selection-start","selection-end","hold-keyboard"]),t.readonly?(x(),S(o,{key:0,class:"hs-input-disabled-mask",onClick:R})):k("",!0),t.showWordLimit&&t.maxLength?(x(),S(o,{key:1,class:"hs-input-word-limit"},{default:w((()=>[C(n,{class:"hs-input-word-num"},{default:w((()=>[L($(p.value.length),1)])),_:1}),L("/"+$(t.maxLength),1)])),_:1})):k("",!0)])),_:1}),t.clearable&&!t.readonly?(x(),S(o,{key:1,class:B(["hs-input-clear-box",{"hs-hidden":!((Y.value||t.showClearIcon)&&p.value.length>0)}]),onClick:E(ae,["stop"])},{default:w((()=>[j(e.$slots,"clear",{},(()=>[C(I,{name:"mask-close","custom-class":"hs-input-clear",size:t.clearSize,width:t.clearSize,height:t.clearSize},null,8,["size","width","height"])]),!0)])),_:3},8,["class"])):k("",!0),C(o,{class:"hs-input-right-box"},{default:w((()=>[j(e.$slots,"right",{},void 0,!0)])),_:3})])),_:3})])),_:3})])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-00714131"]]);export{J as _};
