import{D as e,E as t,Y as s,a5 as o,ai as a,ac as l,b0 as n,y as i,J as c,Q as r,U as u,T as v,aI as d,R as g,d as y,o as m,c as C,w as f,h,O as p,a as b,N as x,X as S,x as k,v as w,b as T,q as z,i as O,a7 as A,_}from"./index-9a4aa426.js";import{N as I}from"./transition.47a8b3f2.js";const B={...e,msg:String,duration:t(2e3),center:s,type:String,bottom:o("30px"),size:String,icon:String,iconSize:o("20"),textAlignCenter:s,loadingRotate:s,bgColor:String,onClose:Function,cover:Boolean,coverColor:String,title:String,closeOnClickOverlay:Boolean,visible:Boolean},N={[a]:e=>l(e),[n]:()=>!0};function $(e,t){let s;const o=`${g}-toast`,l=i(!1),y={text:"",success:"success",fail:"failure",warn:"tips",loading:"loading"},m=i({msg:e.msg,duration:e.duration,type:e.type,icon:e.icon,title:e.title,iconSize:e.iconSize,bgColor:e.bgColor,size:e.size,bottom:e.bottom,center:e.center,textAlignCenter:e.textAlignCenter,loadingRotate:e.loadingRotate,onClose:e.onClose?e.onClose:()=>{},cover:e.cover,coverColor:e.coverColor?e.coverColor:"",closeOnClickOverlay:e.closeOnClickOverlay}),C=()=>{s&&(clearTimeout(s),s=null)},f=()=>{C(),l.value=!1,t(a,!1),t(n)},h=(e,t,o)=>{m.value={...m.value,...t,type:e,msg:o},C(),l.value=!0,m.value.duration&&m.value.duration>0&&(s=setTimeout(f,m.value.duration))},p=e=>{e||console.warn("[NutUI Toast]: msg不能为空")},b={text:(e,t={icon:""})=>(p(e),h("text",t,e)),success:(e,t={type:"success"})=>(p(e),h("success",t,e)),fail:(e,t={type:"fail"})=>(p(e),h("fail",t,e)),warn:(e,t={type:"warn"})=>(p(e),h("warn",t,e)),loading:(e,t={type:"loading",duration:0})=>h("loading",t,e)},x=c((()=>"text"!==m.value.type||!!m.value.icon)),S=c((()=>m.value.icon?m.value.icon:y[m.value.type])),k=c((()=>r(e,o,{"hs-toast-center":m.value.center,"hs-toast-has-icon":x.value,"hs-toast-cover":m.value.cover,"hs-toast-loading":"loading"===m.value.type,[`hs-toast-${m.value.size}`]:m.value.size,"hs-hidden":!l.value}))),w=c((()=>u(e,{bottom:m.value.center?"auto":m.value.bottom,"background-color":m.value.coverColor})));return v((()=>e.visible),(t=>{l.value=t,t&&h(e.type,{...e},e.msg)})),d((()=>{C()})),{clickCover:()=>{e.closeOnClickOverlay&&f()},hasIcon:x,iconName:S,toastBodyClass:k,styles:w,onAfterLeave:()=>{l.value&&f()},toastStatus:m,isShowToast:l,showToast:b,hideToast:f}}const L=y({name:`${g}-toast`,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),R=_(y({...L,props:B,emits:N,setup(e,{expose:t,emit:s}){const o=e,a=s,{clickCover:l,hasIcon:n,iconName:i,toastBodyClass:c,onAfterLeave:r,isShowToast:u,styles:v,showToast:d,hideToast:g,toastStatus:y}=$(o,a);return t({showToast:d,hideToast:g}),(e,t)=>{const s=O,o=A;return m(),C(I,{"custom-class":b(c),"custom-style":b(v),show:b(u),name:"fade",onAfterLeave:b(r)},{default:f((()=>[h(s,{class:p(b(c)),style:x(b(v)),onClick:b(l)},{default:f((()=>[e.$slots.default?S(e.$slots,"default",{key:0},void 0,!0):(m(),C(s,{key:1,class:"hs-toast-inner",style:x({"text-align":e.textAlignCenter?"center":"left","background-color":b(y).bgColor})},{default:f((()=>[b(n)?(m(),C(s,{key:0,class:"hs-toast-icon-wrapper"},{default:f((()=>[h(k,{size:b(y).iconSize,name:b(i),"custom-color":"#ffffff"},null,8,["size","name"])])),_:1})):w("",!0),b(y).title?(m(),T("div",{key:1,class:"hs-toast-title"},z(b(y).title),1)):w("",!0),h(o,{class:"hs-toast-text",nodes:b(y).msg},null,8,["nodes"])])),_:1},8,["style"]))])),_:3},8,["class","style","onClick"])])),_:3},8,["custom-class","custom-style","show","onAfterLeave"])}}}),[["__scopeId","data-v-1d699de0"]]);export{R as _};
