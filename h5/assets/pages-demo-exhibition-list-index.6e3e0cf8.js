import{_ as t}from"./cell.b00ee112.js";/* empty css              */import{af as s,D as a,E as l,G as e,d as i,r as o,J as n,T as r,o as c,c as h,w as u,j as d,N as m,b as f,F as g,l as p,X as v,O as y,Q as _,U as x,aG as $,ak as D,R as H,_ as S,K as b,t as j,g as B,h as M,k as O,q as k,i as w}from"./index-9a4aa426.js";const G=s().windowHeight||667,I={...a,height:l(50),listData:e([]),containerHeight:l(G)},A=`${H}-list`,N=i({name:A,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),T=S(i({...N,props:I,emits:{scrollBottom:()=>!0,scroll:()=>!0},setup(t,{emit:s}){const a=t,l=s,e=o({startOffset:0,start:0,list:a.listData.slice()}),i=n((()=>_(a,A))),H=n((()=>x(a,{height:`${$(a.containerHeight)}`}))),S=n((()=>Math.min(+a.containerHeight,G))),b=n((()=>Math.ceil(S.value/a.height))),j=n((()=>e.start+b.value)),B=n((()=>`translate3d(0, ${e.startOffset}px, 0)`)),M=n((()=>e.list.length*a.height)),O=n((()=>e.list.slice(e.start,Math.min(j.value,e.list.length))));async function k(t){const{scrollTop:s}=t.detail;e.start=Math.floor(s/a.height),j.value>e.list.length&&l("scrollBottom"),l("scroll"),e.startOffset=s-s%a.height}return r((()=>a.listData),(()=>{e.list=a.listData.slice()})),(t,s)=>{const a=D;return c(),h(a,{class:y(i.value),"scroll-y":!0,style:m(H.value),"scroll-top":"0",onScroll:k},{default:u((()=>[d("div",{class:"hs-list-phantom",style:m({height:`${M.value}px`})},null,4),d("div",{class:"hs-list-container",style:m({transform:B.value})},[(c(!0),f(g,null,p(O.value,((s,a)=>(c(),f("div",{id:`list-item-${Number(a+e.start)}`,key:a,style:m({height:`${t.height}px`}),class:"hs-list-item"},[v(t.$slots,"default",{item:s,index:a+e.start},void 0,!0)],12,["id"])))),128))],4)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-a266e6cf"]]);const q=S(i({setup(){const t=o({count:Array.from({length:100}).fill(0)});return b((()=>{t.count=t.count.map(((t,s)=>s+1))})),{...j(t),handleScroll:()=>{const s=Array.from({length:100}).fill(0),a=t.count.length;t.count=t.count.concat(s.map(((t,s)=>a+s+1)))}}}}),[["render",function(s,a,l,e,i,o){const n=w,r=T,m=t,f=B("layout-default-uni");return c(),h(f,null,{default:u((()=>[d("div",{class:"demo list-demo"},[d("h2",{class:"title"}," 基础用法 "),M(m,null,{default:u((()=>[M(r,{height:50,"list-data":s.count,onScrollBottom:s.handleScroll},{default:u((({item:t})=>[M(n,{class:"ilist-item"},{default:u((()=>[O(k(t),1)])),_:2},1024)])),_:1},8,["list-data","onScrollBottom"])])),_:1})])])),_:1})}],["__scopeId","data-v-83c28b23"]]);export{q as default};
