import{D as e,Y as o,a5 as l,ac as t,ai as n,ax as i,a$ as s,b0 as a,y as c,K as r,T as k,J as u,Q as v,R as C,d,o as p,c as b,w as y,h as f,O,a as m,N as x,X as g,b as h,F as _,k as T,q as B,v as A,bj as j,i as D,a7 as w,_ as F,B as S,g as $,j as z}from"./index-9a4aa426.js";import{p as U,_ as I}from"./popup.ce3c8dc4.js";import{_ as P}from"./button.37ee0c5d.js";import{f as R}from"./interceptor.408c518b.js";import{u as E}from"./useTranslate.6f3ff1af.js";import{_ as H}from"./cell.b00ee112.js";/* empty css              */import{i as Q}from"./index.99f72493.js";import"./transition.47a8b3f2.js";import"./overlay.65ef5d67.js";const q={...U,...e,closeOnClickOverlay:o,title:l(""),content:l(""),noFooter:Boolean,noOkBtn:Boolean,noCancelBtn:Boolean,cancelText:l(""),okText:l(""),okAutoClose:o,cancelAutoClose:o,textAlign:l("center"),closeOnPopstate:Boolean,footerDirection:l("horizontal"),customClass:l(""),popStyle:{type:Object},beforeClose:Function},G={update:e=>t(e),[n]:e=>t(e),ok:()=>!0,[i]:()=>!0,[s]:()=>!0,[a]:()=>!0},J=`${C}-dialog`;function K(e,o){const l=c(e.visible),t=c({title:e.title,content:e.content,cancelText:e.cancelText,okText:e.okText,textAlign:e.textAlign,footerDirection:e.footerDirection,noFooter:e.noFooter,noOkBtn:e.noOkBtn,noCancelBtn:e.noCancelBtn,transition:e.transition,closeOnClickOverlay:e.closeOnClickOverlay,okAutoClose:e.okAutoClose});r((()=>{e.closeOnPopstate&&window.addEventListener("popstate",(()=>{d("page")}))})),k((()=>e.visible),(e=>{l.value=e,e&&o(s)}));const C=u((()=>v(e,J)));function d(t){R(e.beforeClose,{args:[t],done:()=>{var e;l.value=!1,o("update",e=!1),o(n,e),o(a)}})}return{contentStyle:u((()=>({textAlign:t.value.textAlign}))),showPopup:l,onClickOverlay:function(){e.closeOnClickOverlay&&d("")},onCancel:function(){o(i),e.cancelAutoClose&&(l.value=!1,d(i))},onOk:function(){o("ok"),e.okAutoClose&&d("ok")},closed:d,classes:C,showDialog:o=>{t.value={title:o.title||e.title,content:o.content||e.content,cancelText:o.cancelText||e.cancelText,okText:o.okText||e.okText,okAutoClose:o.okAutoClose||e.okAutoClose,textAlign:o.textAlign||e.textAlign,footerDirection:o.footerDirection||e.footerDirection,noFooter:o.noFooter||e.noFooter,noOkBtn:o.noOkBtn||e.noOkBtn,transition:o.transition||e.transition,noCancelBtn:o.noCancelBtn||e.noCancelBtn,closeOnClickOverlay:o.closeOnClickOverlay||e.closeOnClickOverlay},l.value=!0},dialogStatus:t}}const L=`${C}-dialog`,N=d({name:L,inheritAttrs:!1,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{translate:X}=E(L),Y=F(d({...N,props:q,emits:G,setup(e,{expose:o,emit:l}){const t=e,n=l,{contentStyle:i,showPopup:s,onClickOverlay:a,onCancel:c,onOk:r,classes:k,closed:u,dialogStatus:v,showDialog:C}=K(t,n);return o({showDialog:C,onOk:r,onCancel:c}),(e,o)=>{const l=D,n=w;return p(),b(I,{visible:m(s),"onUpdate:visible":o[0]||(o[0]=e=>j(s)?s.value=e:null),"close-on-click-overlay":!1,"lock-scroll":e.lockScroll,"pop-class":e.popClass,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,"custom-style":e.popStyle,"z-index":e.zIndex,round:"",transition:e.transition,onClickOverlay:m(a),onClickCloseIcon:m(u)},{default:y((()=>[f(l,{class:O(m(k)),style:x(e.customStyle)},{default:y((()=>[e.$slots.header||m(v).title?(p(),b(l,{key:0,class:"hs-dialog__header"},{default:y((()=>[e.$slots.header?g(e.$slots,"header",{key:0},void 0,!0):(p(),h(_,{key:1},[T(B(m(v).title||t.title),1)],64))])),_:3})):A("",!0),f(l,{class:"hs-dialog__content",style:x(m(i))},{default:y((()=>[e.$slots.default?g(e.$slots,"default",{key:0},void 0,!0):"string"==typeof e.content?(p(),b(n,{key:1,nodes:m(v).content||t.content},null,8,["nodes"])):A("",!0)])),_:3},8,["style"]),m(v).noFooter?A("",!0):(p(),b(l,{key:1,class:O(["hs-dialog__footer",{[e.footerDirection]:m(v).footerDirection}])},{default:y((()=>[e.$slots.footer?g(e.$slots,"footer",{key:0},void 0,!0):(p(),h(_,{key:1},[m(v).noCancelBtn?A("",!0):(p(),b(P,{key:0,size:"small",plain:"",type:"primary","custom-class":"hs-dialog__footer-cancel",onClick:m(c)},{default:y((()=>[T(B(m(v).cancelText||t.cancelText||m(X)("cancel")),1)])),_:1},8,["onClick"])),m(v).noOkBtn?A("",!0):(p(),b(P,{key:1,size:"small",type:"primary","custom-class":"hs-dialog__footer-ok",onClick:m(r)},{default:y((()=>[T(B(m(v).okText||t.okText||m(X)("confirm")),1)])),_:1},8,["onClick"]))],64))])),_:3},8,["class"]))])),_:3},8,["class","style"])])),_:3},8,["visible","lock-scroll","pop-class","overlay-class","overlay-style","custom-style","z-index","transition","onClickOverlay","onClickCloseIcon"])}}}),[["__scopeId","data-v-e03bb97b"]]);const M=F({setup(){const e=c("zoom"),o=c(),l=c(!1),t=c(!1),n=c(!1),i=c(!1),s=c(!1),a=c(!1),r=c(""),k=c("<p style='color:red'>html</p><img src='https://m.360buyimg.com/babel/jfs/t1/164410/22/25162/93384/616eac6cE6c711350/0cac53c1b82e1b05.gif' />");return{visible1:l,visible2:t,visible3:n,visible4:i,visible5:s,visible6:a,onCancel:()=>{S({title:"event cancel"})},onOk:()=>{S({title:"event ok"})},closeContent:r,baseClick:()=>{l.value=!0},noTitleClick:()=>{t.value=!0},componentClick:()=>{r.value="点击确定时3s后关闭",i.value=!0},tipsClick:()=>{n.value=!0},verticalClick:()=>{s.value=!0},htmlClick:()=>{a.value=!0},refClick:()=>{var e;null==(e=o.value)||e.showDialog({title:"通过ref调用",content:"使用ref调用可以只写一个dialog组件",noFooter:!0})},isH5:Q,content:k,dialogRef:o,transition:e}}},[["render",function(e,o,l,t,n,i){const s=H,a=Y,c=$("layout-default-uni");return p(),b(c,null,{default:y((()=>[z("div",{class:"demo h-100vh! w-100vh!"},[f(s,{title:"基础弹框",onClick:t.baseClick},null,8,["onClick"]),f(a,{visible:t.visible1,"onUpdate:visible":o[0]||(o[0]=e=>t.visible1=e),title:"基础弹框",content:"这是基础弹框。",onCancel:t.onCancel,onOk:t.onOk},null,8,["visible","onCancel","onOk"]),f(s,{title:"支持富文本 html",onClick:t.htmlClick},null,8,["onClick"]),f(a,{visible:t.visible6,"onUpdate:visible":o[1]||(o[1]=e=>t.visible6=e),content:t.content,onCancel:t.onCancel,onOk:t.onOk},null,8,["visible","content","onCancel","onOk"]),f(s,{title:"无标题弹框",onClick:t.noTitleClick},null,8,["onClick"]),f(a,{visible:t.visible2,"onUpdate:visible":o[2]||(o[2]=e=>t.visible2=e),content:"这是无标题弹框。",onCancel:t.onCancel,onOk:t.onOk},null,8,["visible","onCancel","onOk"]),f(s,{title:"提示弹框",onClick:t.tipsClick},null,8,["onClick"]),f(a,{visible:t.visible3,"onUpdate:visible":o[3]||(o[3]=e=>t.visible3=e),"no-cancel-btn":"",title:"温馨提示",content:"这是提示弹框。",onCancel:t.onCancel,onOk:t.onOk},null,8,["visible","onCancel","onOk"]),f(s,{title:"底部按钮 垂直使用",onClick:t.verticalClick},null,8,["onClick"]),f(a,{visible:t.visible5,"onUpdate:visible":o[4]||(o[4]=e=>t.visible5=e),"footer-direction":"vertical",title:"温馨提示",content:"这是提示弹框。"},null,8,["visible"]),f(s,{title:"ref调用",onClick:t.refClick},null,8,["onClick"]),f(a,{ref:"dialogRef",transition:t.transition},null,8,["transition"])])])),_:1})}]]);export{M as default};
