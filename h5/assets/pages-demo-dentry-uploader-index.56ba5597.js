import{_ as e}from"./progress.cde25a10.js";/* empty css              */import{_ as a}from"./button.37ee0c5d.js";/* empty css              */import{_ as s}from"./index.432a2b51.js";import{d as t,y as l,o as c,c as i,w as u,j as r,h as o,k as m,g as n}from"./index-9a4aa426.js";import"./form.b2296b86.js";import"./useInject.f710a5e3.js";import"./useTranslate.6f3ff1af.js";const p="https://my-json-server.typicode.com/linrufeng/demo/posts",f=t({__name:"index",setup(t){const f=l(0),g={custom:"test"},d=l([{name:"文件1.png",url:"https://m.360buyimg.com/babel/jfs/t1/164410/22/25162/93384/616eac6cE6c711350/0cac53c1b82e1b05.gif",status:"success",message:"上传成功",type:"image"},{name:"文件2.png",url:"https://m.360buyimg.com/babel/jfs/t1/164410/22/25162/93384/616eac6cE6c711350/0cac53c1b82e1b05.gif",status:"error",message:"上传失败",type:"image"},{name:"文件3.png",url:"https://m.360buyimg.com/babel/jfs/t1/164410/22/25162/93384/616eac6cE6c711350/0cac53c1b82e1b05.gif",status:"uploading",message:"上传中...",type:"image"}]),b=l([{name:"文件1.png",url:"https://m.360buyimg.com/babel/jfs/t1/164410/22/25162/93384/616eac6cE6c711350/0cac53c1b82e1b05.gif",status:"success",message:"上传成功",type:"image"},{name:"文件2.png",url:"https://m.360buyimg.com/babel/jfs/t1/164410/22/25162/93384/616eac6cE6c711350/0cac53c1b82e1b05.gif",status:"error",message:"上传失败",type:"image"},{name:"文件3.png",url:"https://m.360buyimg.com/babel/jfs/t1/164410/22/25162/93384/616eac6cE6c711350/0cac53c1b82e1b05.gif",status:"uploading",message:"上传中...",type:"image"}]);function h(e){console.log("oversize 触发 文件大小不能超过 50kb",e)}function y(e){console.log("delete 事件触发",e.file,e.fileList)}function v({percentage:e}){f.value=e,console.log("progress 事件触发",e)}const j=l(null);function _(){j.value.submit()}function x(){j.value.clearUploadQueue()}function z(e,a){var s;console.log(e,a);e({url:a.url,filePath:a.taroFilePath,fileType:a.fileType,header:{"Content-Type":"multipart/form-data",...a.headers},formData:a.formData,name:a.name,success(e){var s,t;a.xhrState===e.statusCode?null==(s=a.onSuccess)||s.call(a,e,a):null==(t=a.onFailure)||t.call(a,e,a)},fail(e){var s;null==(s=a.onFailure)||s.call(a,e,a)}})(),null==(s=a.onStart)||s.call(a,a)}return(t,l)=>{const k=s,E=a,D=e,F=n("layout-default-uni");return c(),i(F,null,{default:u((()=>[r("div",{class:"demo bg-w"},[r("h2",{class:"title"}," 基础用法 "),o(k,{url:p}),r("h2",{class:"title"}," 上传状态 "),o(k,{"file-list":d.value,"onUpdate:fileList":l[0]||(l[0]=e=>d.value=e),url:p,maximum:"3",multiple:"",onDelete:y},null,8,["file-list"]),r("h2",{class:"title"}," 基础用法-上传列表展示 "),o(k,{"file-list":b.value,"onUpdate:fileList":l[1]||(l[1]=e=>b.value=e),url:p,maximum:"10",multiple:"","list-type":"list"},{default:u((()=>[o(E,{type:"success",size:"small"},{default:u((()=>[m(" 上传文件 ")])),_:1})])),_:1},8,["file-list"]),r("h2",{class:"title"}," 自定义上传样式 "),o(k,{url:p},{default:u((()=>[o(E,{type:"success",size:"small"},{default:u((()=>[m(" 上传文件 ")])),_:1})])),_:1}),r("h2",{class:"title"}," 自定义上传使用默认进度条 "),o(k,{url:p,onProgress:v},{default:u((()=>[o(E,{type:"success",size:"small"},{default:u((()=>[m(" 上传文件 ")])),_:1})])),_:1}),r("br"),o(D,{percentage:f.value,"stroke-color":"linear-gradient(270deg, rgba(18,126,255,1) 0%,rgba(32,147,255,1) 32.815625%,rgba(13,242,204,1) 100%)",status:100===f.value?"":"active"},null,8,["percentage","status"]),r("h2",{class:"title"}," 直接调起摄像头 camera "),o(k,{"source-type":["camera"]}),r("h2",{class:"title"}," 使用前摄像头拍摄3s视频并上传(仅支持微信小程序) "),o(k,{"media-type":["video"],"max-duration":"3","source-type":["camera"],camera:"front",url:p}),r("h2",{class:"title"}," 上传状态 "),o(k,{url:p,onDelete:y}),r("h2",{class:"title"}," 限制上传数量5个 "),o(k,{url:p,maximum:"5"}),r("h2",{class:"title"}," 限制上传大小（每个文件最大不超过 50kb） "),o(k,{url:p,maximize:51200,onOversize:h}),r("h2",{class:"title"}," 自定义数据 FormData 、 headers "),o(k,{url:p,data:g,headers:g,"with-credentials":!0}),r("h2",{class:"title"}," 自定义 uni.uploadFile 上传方式(before-xhr-upload) "),o(k,{url:p,"before-upload":z}),r("h2",{class:"title"}," 选中文件后，通过按钮手动执行上传 "),o(k,{ref_key:"uploadRef",ref:j,url:p,maximum:"5","auto-upload":!1},null,512),r("br"),o(E,{type:"success",size:"small",onClick:_},{default:u((()=>[m(" 手动执行上传 ")])),_:1}),o(E,{type:"danger",size:"small",onClick:x},{default:u((()=>[m(" 手动清空上传 ")])),_:1}),r("h2",{class:"title"}," 禁用状态 "),o(k,{disabled:""}),r("h2",{class:"title"}," 文件类型 - 视频 "),o(k,{url:p,accept:"video"}),r("h2",{class:"title"}," 文件类型 - 全部 "),o(k,{url:p,accept:"all"})])])),_:1})}}});export{f as default};
