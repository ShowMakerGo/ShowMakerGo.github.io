import{_ as e}from"./index.d7aa9c4c.js";import{D as t,a5 as l,S as s,G as n,Y as i,ai as a,ac as r,al as c,d as o,J as u,am as m,o as d,c as h,w as y,h as _,O as p,N as v,b as k,q as f,a as C,X as b,Q as g,i as T,R as S,_ as K,a1 as x,an as j,r as I,F as w,l as $,k as O,a6 as G,a0 as U,K as H,t as J,g as N,j as B,ao as Q,p as q}from"./index-9a4aa426.js";import{_ as D}from"./popup.ce3c8dc4.js";import{u as F}from"./useTranslate.6f3ff1af.js";import{_ as P}from"./cell.b00ee112.js";/* empty css              */import"./transition.47a8b3f2.js";import"./overlay.65ef5d67.js";const R={...t,visible:Boolean,height:l("20%"),title:String,currentKey:s(0),currentTime:n([]),lockScroll:i,muti:Boolean},X={[a]:e=>r(e),[c]:e=>e instanceof Object},Y=`${S}-time-select`,{translate:z}=F(Y),A=o({name:Y,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),E=K(o({...A,props:R,emits:X,setup(e,{emit:t}){const l=e,s=t,n=u((()=>g(l,Y))),i=u((()=>({width:"100%",height:l.height}))),r=u((()=>l.currentKey)),o=u((()=>l.currentTime)),S=u((()=>l.muti));function K(){s(a,!1),s(c,o.value)}return m("currentKey",r),m("currentTime",o),m("muti",S),(e,t)=>{const l=T;return d(),h(D,{position:"bottom",closeable:"",round:"",visible:e.visible,"custom-style":i.value,"lock-scroll":e.lockScroll,onClickOverlay:K,onClickCloseIcon:K},{default:y((()=>[_(l,{class:p(n.value),style:v(e.customStyle)},{default:y((()=>[_(l,{class:"hs-time-select__title"},{default:y((()=>[_(l,{class:"hs-time-select__title__fixed"},{default:y((()=>[e.$slots.title?b(e.$slots,"title",{key:1},void 0,!0):(d(),k("span",{key:0},f(e.title||C(z)("pickupTime")),1))])),_:3})])),_:3}),_(l,{class:"hs-time-select__content"},{default:y((()=>[_(l,{class:"hs-time-select__content__pannel"},{default:y((()=>[b(e.$slots,"pannel",{},void 0,!0)])),_:3}),_(l,{class:"hs-time-select__content__detail"},{default:y((()=>[b(e.$slots,"detail",{},void 0,!0)])),_:3})])),_:3})])),_:3},8,["class","style"])])),_:3},8,["visible","custom-style","lock-scroll"])}}}),[["__scopeId","data-v-b603d5ce"]]),L={...t,times:n([])},M={[c]:e=>x(e)},V=`${S}-time-detail`,W=o({name:V,options:{virtualHost:!0,addGlobalClass:!0}}),Z=K(o({...W,props:L,emits:M,setup(e,{emit:t}){const l=e,s=t,n=j("currentKey"),i=j("currentTime");j("muti");const a=I({currentKey:n,currentTime:i}),r=u((()=>g(l,V)));function o(e){const t=a.currentTime.find((e=>e.key==a.currentKey));if(t)return{"hs-time-detail__detail__list__item":!0,"hs-time-detail__detail__list__item--curr":t.list.filter((t=>t===e)).length>0}}const m=u((()=>{var e;return null==(e=null==l?void 0:l.times)?void 0:e.find((e=>e.key==a.currentKey)).list}));return(e,t)=>{const l=T;return d(),h(l,{class:p(r.value),style:v(e.customStyle)},{default:y((()=>[_(l,{class:"hs-time-detail__detail hs-time-detail__detail--moring"},{default:y((()=>[_(l,{class:"hs-time-detail__detail__list"},{default:y((()=>[(d(!0),k(w,null,$(m.value,(e=>(d(),h(l,{key:e,class:p(o(e)),onClick:t=>{s(c,e)}},{default:y((()=>[O(f(e),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-148e98bf"]]),ee={...t,name:String,pannelKey:s(0)},te={[G]:e=>U(e)||x(e)},le=`${S}-time-pannel`,se=o({name:le,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),ne=K(o({...se,props:ee,emits:te,setup(e,{emit:t}){const l=e,s=t,n=j("currentKey"),i=I({currentKey:n}),a=u((()=>g(l,le,{"hs-time-pannel--curr":i.currentKey==l.pannelKey})));return(e,t)=>{const l=T;return d(),h(l,{class:p(a.value),style:v(e.customStyle),onClick:t[0]||(t[0]=t=>{return l=e.pannelKey,void s(G,l);var l})},{default:y((()=>[O(f(e.name),1)])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-a26021f0"]]);const ie=K(o({setup(){const e=I({visible1:!1,currentKey1:0,currentTime1:[],times1:[{key:0,list:["9:00-10:00","10:00-11:00","11:00-12:00"]},{key:1,list:["9:00-10:00","10:00-11:00"]}],visible2:!1,currentKey2:0,currentTime2:[],times2:[{key:0,list:["9:00-10:00","10:00-11:00","11:00-12:00"]},{key:1,list:["9:00-10:00","10:00-11:00"]}],visible3:!1}),t=I({msg:"toast",type:"text",show:!1,cover:!1});return H((()=>{e.currentTime1.push({key:e.currentKey1,list:[]}),e.currentTime2.push({key:e.currentKey2,list:[]})})),{...J(e),...J(t),handleChange1:t=>{e.currentKey1=+t,e.currentTime1=[],e.currentTime1.push({key:e.currentKey1,list:[]})},handleSelected1:e=>{t.show=!0,t.msg=JSON.stringify(e),t.type="text",t.cover=!1},selectTime1:t=>{const l=e.currentTime1[0].list.findIndex((e=>e===t));-1===l?e.currentTime1[0].list.push(t):e.currentTime1[0].list.splice(l,1)},handleClick1:()=>{e.visible1=!0},handleChange2:t=>{e.currentKey2=+t;e.currentTime2.find((e=>e.key==t))||e.currentTime2.push({key:t,list:[]})},handleSelected2:e=>{t.show=!0,t.msg=JSON.stringify(e),t.type="text",t.cover=!1},selectTime2:t=>{const l=e.currentTime2.findIndex((t=>t.key==e.currentKey2)),s=e.currentTime2[l].list.findIndex((e=>e===t));-1===s?e.currentTime2[l].list.push(t):e.currentTime2[l].list.splice(s,1)},handleClick2:()=>{e.visible2=!0},handleClick3:()=>{e.visible3=!0}}}}),[["render",function(t,l,s,n,i,a){const r=Q,c=P,o=ne,u=Z,m=E,p=q,v=e,k=N("layout-default-uni");return d(),h(k,null,{default:y((()=>[B("div",{class:"demo h-100vh!"},[B("h2",{class:"title"}," 基础用法 "),_(c,{onClick:t.handleClick1},{default:y((()=>[B("span",null,[_(r,null,{default:y((()=>[O("请选择配送时间")])),_:1})])])),_:1},8,["onClick"]),_(m,{visible:t.visible1,"onUpdate:visible":l[0]||(l[0]=e=>t.visible1=e),height:"50%","current-key":t.currentKey1,"current-time":t.currentTime1,onSelect:t.handleSelected1},{pannel:y((()=>[_(o,{name:"2月23日(今天)","pannel-key":"0",onChange:t.handleChange1},null,8,["onChange"]),_(o,{name:"2月24日(星期三)","pannel-key":"1",onChange:t.handleChange1},null,8,["onChange"])])),detail:y((()=>[_(u,{times:t.times1,onSelect:t.selectTime1},null,8,["times","onSelect"])])),_:1},8,["visible","current-key","current-time","onSelect"]),B("h2",{class:"title"}," 可选择多个日期时间 "),_(c,{onClick:t.handleClick2},{default:y((()=>[B("span",null,[_(r,null,{default:y((()=>[O("请选择配送时间")])),_:1})])])),_:1},8,["onClick"]),_(m,{visible:t.visible2,"onUpdate:visible":l[1]||(l[1]=e=>t.visible2=e),height:"50%","current-key":t.currentKey2,"current-time":t.currentTime2,onSelect:t.handleSelected2},{pannel:y((()=>[_(o,{name:"2月23日(今天)","pannel-key":"0",onChange:t.handleChange2},null,8,["onChange"]),_(o,{name:"2月24日(星期三)","pannel-key":"1",onChange:t.handleChange2},null,8,["onChange"])])),detail:y((()=>[_(u,{times:t.times2,onSelect:t.selectTime2},null,8,["times","onSelect"])])),_:1},8,["visible","current-key","current-time","onSelect"]),B("h2",{class:"title"}," 更改标题 "),_(c,{onClick:t.handleClick3},{default:y((()=>[B("span",null,[_(r,null,{default:y((()=>[O("请选择配送时间")])),_:1})])])),_:1},8,["onClick"]),_(m,{visible:t.visible3,"onUpdate:visible":l[2]||(l[2]=e=>t.visible3=e),height:"50%","current-key":t.currentKey2,"current-time":t.currentTime2,onSelect:t.handleSelected2},{title:y((()=>[B("div",{class:"timeselect-title"},[_(p,{class:"title"},{default:y((()=>[O(" 我是标题 ")])),_:1}),_(p,{class:"subtitle"},{default:y((()=>[O(" 我是副标题 ")])),_:1})])])),pannel:y((()=>[_(o,{name:"2月23日(今天)","pannel-key":"0",onChange:t.handleChange2},null,8,["onChange"]),_(o,{name:"2月24日(星期三)","pannel-key":"1",onChange:t.handleChange2},null,8,["onChange"])])),detail:y((()=>[_(u,{times:t.times2,onSelect:t.selectTime2},null,8,["times","onSelect"])])),_:1},8,["visible","current-key","current-time","onSelect"]),_(v,{visible:t.show,"onUpdate:visible":l[3]||(l[3]=e=>t.show=e),msg:t.msg,type:t.type,cover:t.cover},null,8,["visible","msg","type","cover"])])])),_:1})}],["__scopeId","data-v-bb0e78df"]]);export{ie as default};
