import{D as e,a6 as l,a1 as a,a0 as t,ac as s,ab as o,d as i,y as u,J as n,T as c,am as d,o as r,c as m,w as v,X as _,O as p,N as f,Q as h,i as y,R as b,_ as V,a5 as $,b9 as g,Y as x,S as I,aT as T,a4 as k,an as w,r as C,K as S,h as U,k as j,q as N,v as A,x as O,j as P,a as E,a7 as Q,P as R,t as W,g as B}from"./index-9a4aa426.js";import{u as G}from"./useSelectorQuery.5ef6b069.js";const H={...e,modelValue:{type:[String,Number,Array]},accordion:Boolean},M={[l]:(e,l,o)=>a(e)||t(e)||e instanceof Object&&t(l)||a(l)&&s(o),[o]:e=>a(e)||t(e)||e instanceof Object},q=`${b}-collapse`,D=i({name:q,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),J=V(i({...D,props:H,emits:M,setup(e,{emit:a}){const t=e,s=a,i=u(t.modelValue||(t.accordion?"":[])),b=n((()=>h(t,q)));function V(e,a,t=!0){i.value=e,s(o,e),s(l,e,a,t)}return c((()=>t.modelValue),(e=>{i.value=e})),d("collapseParent",{updateVal:function(e){if(t.accordion)i.value===e?V("",e,!1):V(e,e,!0);else if(Array.isArray(i.value))if(i.value.includes(e)){V(i.value.filter((l=>l!==e)),e,!1)}else{V(i.value.concat([e]),e,!0)}else console.warn("[NutUI] <Collapse> 未开启手风琴模式时 v-model 应为数组")},isExpanded:function(e){return t.accordion?i.value===e:!!Array.isArray(i.value)&&i.value.includes(e)}}),(e,l)=>{const a=y;return r(),m(a,{class:p(b.value),style:f(e.customStyle)},{default:v((()=>[_(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-4a45318c"]]),K={...e,collapseRef:Object,title:$(""),name:{...g([String,Number]),default:-1},value:$(""),label:$(""),disabled:Boolean,border:x,icon:$("down-arrow"),rotate:I(180)},X=`${b}-collapse-item`,Y=i({name:X,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),z=V(i({...Y,props:K,setup(e){const l=e,a=R(),{getSelectorNodeInfo:t}=G(a),s=T(),o=k(),i=`#hs-collapse__item-${s}`,d=u("auto"),b=u(!1),V=u(""),$=w("collapseParent"),g=C($),x=n((()=>h(l,X,{[`${X}__border`]:l.border})));function I(e){return t(e)}S((()=>{setTimeout((()=>{I(i).then((e=>{(null==e?void 0:e.height)&&(d.value=`${e.height}px`)}))}),100)})),c((()=>{var e;return null==(e=o.default)?void 0:e.call(o)}),(()=>{setTimeout((()=>{I(i).then((e=>{(null==e?void 0:e.height)&&(d.value=`${e.height}px`)}))}),200)}));const W=n((()=>!!g&&g.isExpanded(l.name))),B=u(W.value?"auto":"0px");function H(){b.value||g.updateVal(l.name)}return c(W,(function(e){V.value&&(clearTimeout(V.value),V.value="");const l=e?"0px":d.value,a=e?d.value:"0px";b.value=!0,B.value=l,setTimeout((()=>{B.value=a,b.value=!1,e&&(V.value=setTimeout((()=>{B.value="auto"}),300))}),100)})),(e,l)=>{const a=Q,t=y;return r(),m(t,{class:p(x.value),style:f(e.customStyle)},{default:v((()=>[U(t,{class:p(["hs-collapse-item__title",[{"hs-collapse-item__title--disabled":e.disabled}]]),onClick:H},{default:v((()=>[U(t,{class:"hs-collapse-item__title-main"},{default:v((()=>[U(t,{class:"hs-collapse-item__title-main-value"},{default:v((()=>[e.$slots.title?_(e.$slots,"title",{key:0},void 0,!0):(r(),m(a,{key:1,class:"hs-collapse-item__title-mtitle",nodes:e.title},null,8,["nodes"])),e.label?(r(),m(t,{key:2,class:"hs-collapse-item__title-label"},{default:v((()=>[j(N(e.label),1)])),_:1})):A("",!0)])),_:3})])),_:3}),e.$slots.value?(r(),m(t,{key:0,class:"hs-collapse-item__title-sub"},{default:v((()=>[_(e.$slots,"value",{},void 0,!0)])),_:3})):(r(),m(a,{key:1,class:"hs-collapse-item__title-sub",nodes:e.value},null,8,["nodes"])),U(t,{class:p(["hs-collapse-item__title-icon",[{"hs-collapse-item__title-icon--expanded":W.value}]]),style:f({transform:`rotate(${W.value?e.rotate:0}deg)`})},{default:v((()=>[_(e.$slots,"icon",{},(()=>[U(O,{name:e.icon},null,8,["name"])]),!0)])),_:3},8,["class","style"])])),_:3},8,["class"]),e.$slots.extra?(r(),m(t,{key:0,class:"hs-collapse__item-extraWrapper"},{default:v((()=>[P("div",{class:"hs-collapse__item-extraWrapper__extraRender"},[_(e.$slots,"extra",{},void 0,!0)])])),_:3})):A("",!0),U(t,{class:"hs-collapse__item-wrapper",style:f({willChange:"height",height:B.value})},{default:v((()=>[U(t,{id:`hs-collapse__item-${E(s)}`,class:"hs-collapse__item-wrapper__content"},{default:v((()=>[_(e.$slots,"default",{},void 0,!0)])),_:3},8,["id"])])),_:3},8,["style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-dc9d126e"]]);const F=V({setup(){const e=C({active1:[1,"2"],active2:1,active3:1,active4:1,active5:1,active6:1,title1:"标题1",title2:"标题2",title3:"标题3",subTitle:"副标题"});return{change:e=>{console.log(`点击了name是${e}的面板`)},...W(e)}}},[["render",function(e,l,a,t,s,o){const i=z,u=J,n=B("layout-default-uni");return r(),m(n,null,{default:v((()=>[P("div",{class:"demo full"},[P("h2",{class:"title"}," 基础用法 "),U(u,{modelValue:e.active1,"onUpdate:modelValue":l[0]||(l[0]=l=>e.active1=l),onChange:t.change},{default:v((()=>[U(i,{title:e.title1,name:1},{default:v((()=>[j(" 京东“厂直优品计划”首推“政府优品馆” 3年覆盖80%镇级政府 ")])),_:1},8,["title"]),U(i,{title:e.title2,name:2},{default:v((()=>[j(" 京东到家：教师节期间 创意花束销量增长53倍 ")])),_:1},8,["title"]),U(i,{title:e.title3,name:3,disabled:""},null,8,["title"])])),_:1},8,["modelValue","onChange"]),P("h2",{class:"title"}," 手风琴 "),U(u,{modelValue:e.active2,"onUpdate:modelValue":l[1]||(l[1]=l=>e.active2=l),accordion:!0},{default:v((()=>[U(i,{title:e.title1,name:1},{value:v((()=>[j(" 文本测试 ")])),default:v((()=>[j(" 华为终端操作系统EMUI 11发布，9月11日正式开启 ")])),_:1},8,["title"]),U(i,{title:e.title2,name:2,value:e.subTitle},{default:v((()=>[j(" 中国服务机器人市场已占全球市场超1/4 ")])),_:1},8,["title","value"]),U(i,{title:e.title3,name:3},{default:v((()=>[j(" QuestMobile：90后互联网用户规模超越80后达3.62亿 ")])),_:1},8,["title"])])),_:1},8,["modelValue"]),P("h2",{class:"title"}," 自定义折叠图标 "),U(u,{modelValue:e.active3,"onUpdate:modelValue":l[2]||(l[2]=l=>e.active3=l),accordion:!0},{default:v((()=>[U(i,{title:e.title1,name:1,icon:"notice"},{default:v((()=>[j(" 京东数科IPO将引入“绿鞋机制” ")])),_:1},8,["title"]),U(i,{title:e.title2,name:2,value:"文本内容",icon:"follow"},{default:v((()=>[j(" 世界制造业大会开幕，阿里巴巴与安徽合作再升级 ")])),_:1},8,["title"])])),_:1},8,["modelValue"]),P("h2",{class:"title"}," 设置固定内容（不折叠部分） "),U(u,{modelValue:e.active6,"onUpdate:modelValue":l[3]||(l[3]=l=>e.active6=l),accordion:!0},{default:v((()=>[U(i,{title:e.title1,name:1},{extra:v((()=>[j(" 固定内容 ")])),default:v((()=>[j(" NutUI是一套拥有京东风格的轻量级的 Vue 组件库 ")])),_:1},8,["title"]),U(i,{title:e.title2,name:2},{default:v((()=>[j(" 在产品的功能、体验、易用性和灵活性等各个方面做了全面的升级！ ")])),_:1},8,["title"])])),_:1},8,["modelValue"])])])),_:1})}]]);export{F as default};
