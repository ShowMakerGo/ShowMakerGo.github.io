import{_ as t}from"./cellgroup.a9fc1937.js";/* empty css              */import{D as o,a5 as e,E as s,ai as a,ac as i,y as l,T as n,aI as u,d as c,af as r,J as d,o as f,c as m,w as p,j as k,O as C,N as y,a as v,X as h,b,F as g,k as w,q as _,bj as S,U as N,Q as T,R as j,_ as I,r as x,s as H,u as A,g as R,h as U}from"./index-9a4aa426.js";import{_ as B}from"./popup.ce3c8dc4.js";import{_ as $}from"./cell.b00ee112.js";/* empty css              */import{i as F}from"./index.99f72493.js";import"./transition.47a8b3f2.js";import"./overlay.65ef5d67.js";const P={...o,customColor:e(""),msg:e(""),duration:s(3e3),className:e(""),background:e(""),type:e("danger"),visible:Boolean,position:e("top"),safeAreaInsetTop:Boolean,safeHeight:Number,onClose:Function,onClick:Function},O={[a]:t=>i(t)};function Q(t,o){let e;const s=()=>{e&&(e&&clearTimeout(e),e=null)},i=l(!1),c=l({type:t.type,msg:t.msg,customColor:t.customColor,background:t.background,duration:t.duration,position:t.position,safeAreaInsetTop:t.safeAreaInsetTop}),r=()=>{i.value=!1,o(a,!1)};return n((()=>t.visible),(t=>{i.value=t;const o=c.value.duration;t&&o&&(e=setTimeout((()=>{r()}),o))}),{immediate:!0}),u((()=>{s()})),{clickCover:()=>{t.onClick&&t.onClick()},showNotify:o=>{o.msg||console.warn("[NutUI Notify]: msg不能为空"),c.value={type:o.type||t.type,position:o.position||t.position,msg:o.msg||t.msg,customColor:o.customColor||t.customColor,background:o.background||t.background,duration:o.duration||t.duration,safeAreaInsetTop:o.safeAreaInsetTop||t.safeAreaInsetTop},s(),i.value=!0,c.value.duration&&c.value.duration>0&&(e=setTimeout(r,c.value.duration))},hideNotify:r,notifyStatus:c,isShowPopup:i}}const q=`${j}-notify`,z=c({name:q,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),D=I(c({...z,props:P,emits:O,setup(t,{expose:o,emit:e}){const s=t,a=e,i=s.safeHeight?s.safeHeight:r().statusBarHeight,{isShowPopup:l,clickCover:n,notifyStatus:u,showNotify:c,hideNotify:j}=Q(s,a);o({showNotify:c,hideNotify:j});const I=d((()=>N(s,{color:u.value.customColor||s.customColor,background:u.value.background||s.background}))),x=d((()=>T(s,q,{[s.className]:!0,[`hs-notify--${u.value.type||s.type}`]:!0})));return(t,o)=>(f(),m(B,{visible:v(l),"onUpdate:visible":o[1]||(o[1]=t=>S(l)?l.value=t:null),"custom-style":v(u).safeAreaInsetTop?`top:${v(i)}px`:"","safe-area-inset-bottom":"","safe-area-inset-top":"","z-index":99999999,position:v(u).position,overlay:!1},{default:p((()=>[k("div",{class:C(x.value),style:y(I.value),onClick:o[0]||(o[0]=(...t)=>v(n)&&v(n)(...t))},[t.$slots.default?h(t.$slots,"default",{key:0},void 0,!0):(f(),b(g,{key:1},[w(_(v(u).msg),1)],64))],6)])),_:3},8,["visible","custom-style","position"]))}}),[["__scopeId","data-v-3d288745"]]),{customBarHeight:E}=H(A());const G=I({setup(){const t=l(),o=l(),e={state:x({show:!1,desc:"基础用法"}),methods:{cellClick(){e.state.show=!0}}};const s={state:x({show:!1,desc:"",type:"primary",duration:3e3}),methods:{cellClick(t,o,e){s.state.show=!0,s.state.type=t,s.state.desc=o,s.state.duration=e}}},a=l(!1),i=l(!1);return{baseState:e,typeRef:o,customState:s,onClosed:()=>console.log("closed"),onClick:()=>console.log("click"),show:a,show1:i,showNotify:()=>{a.value=!0,setTimeout((()=>{a.value=!1}),2e3)},showNotify1:()=>{i.value=!0},isH5:F,notifyRef:t,showRefNotify:()=>{var o;null==(o=t.value)||o.showNotify({type:"danger",msg:"使用ref调用,2秒后消失",position:"bottom",background:"skyblue"}),setTimeout((()=>{var o;null==(o=t.value)||o.hideNotify()}),2e3)},notifyStateClick:function(t,e){var s;null==(s=o.value)||s.showNotify({type:t,msg:e,duration:1500})},customBarHeight:E}}},[["render",function(o,e,s,a,i,l){const n=$,u=D,c=t,r=R("layout-default-uni");return f(),m(r,null,{default:p((()=>[k("div",{class:"demo"},[U(c,{title:a.baseState.state.desc},{default:p((()=>[U(n,{"is-link":"",onClick:a.baseState.methods.cellClick},{default:p((()=>[w(_(a.baseState.state.desc),1)])),_:1},8,["onClick"]),U(u,{visible:a.baseState.state.show,"onUpdate:visible":e[0]||(e[0]=t=>a.baseState.state.show=t),msg:a.baseState.state.desc,onClick:a.onClick,onClosed:a.onClosed},null,8,["visible","msg","onClick","onClosed"])])),_:1},8,["title"]),U(c,{title:"ref调用"},{default:p((()=>[U(n,{"is-link":"",onClick:a.showRefNotify},{default:p((()=>[w(" ref调用 ")])),_:1},8,["onClick"]),U(u,{ref:"notifyRef"},null,512)])),_:1}),U(c,{title:"通知类型"},{default:p((()=>[U(u,{ref:"typeRef",onClick:a.onClick,onClosed:a.onClosed},null,8,["onClick","onClosed"]),U(n,{"is-link":"",onClick:e[1]||(e[1]=t=>a.notifyStateClick("primary","主要通知"))},{default:p((()=>[w(" 主要通知 ")])),_:1}),U(n,{"is-link":"",onClick:e[2]||(e[2]=t=>a.notifyStateClick("success","成功通知"))},{default:p((()=>[w(" 成功通知 ")])),_:1}),U(n,{"is-link":"",onClick:e[3]||(e[3]=t=>a.notifyStateClick("danger","危险通知"))},{default:p((()=>[w(" 危险通知 ")])),_:1}),U(n,{"is-link":"",onClick:e[4]||(e[4]=t=>a.notifyStateClick("warning","警告通知"))},{default:p((()=>[w(" 警告通知 ")])),_:1})])),_:1}),U(c,{title:"自定义样式"},{default:p((()=>[U(u,{visible:a.customState.state.show,"onUpdate:visible":e[5]||(e[5]=t=>a.customState.state.show=t),"custom-color":"#ad0000",background:"#ffe1e1",type:a.customState.state.type,msg:a.customState.state.desc,duration:a.customState.state.duration,onClick:a.onClick,onClosed:a.onClosed},null,8,["visible","type","msg","duration","onClick","onClosed"]),U(n,{"is-link":"",onClick:e[6]||(e[6]=t=>a.customState.methods.cellClick("primary","自定义背景色和字体颜色",1e3))},{default:p((()=>[w(" 自定义背景色和字体颜色 ")])),_:1}),U(n,{"is-link":"",onClick:e[7]||(e[7]=t=>a.customState.methods.cellClick("primary","自定义时长5s",5e3))},{default:p((()=>[w(" 自定义时长5s ")])),_:1})])),_:1}),U(c,{title:"组件调用"},{default:p((()=>[U(n,{"is-link":"",onClick:a.showNotify},{default:p((()=>[w(" 组件调用 ")])),_:1},8,["onClick"]),U(u,{visible:a.show,"onUpdate:visible":e[8]||(e[8]=t=>a.show=t)},{default:p((()=>[k("span",null,"Content")])),_:1},8,["visible"])])),_:1}),U(c,{title:"留出顶部安全距离"},{default:p((()=>[U(n,{"is-link":"",onClick:a.showNotify1},{default:p((()=>[w(" 留出顶部安全距离 ")])),_:1},8,["onClick"]),U(u,{visible:a.show1,"onUpdate:visible":e[9]||(e[9]=t=>a.show1=t),duration:5e3,"safe-area-inset-top":""},{default:p((()=>[k("span",null,"Content")])),_:1},8,["visible"])])),_:1})])])),_:1})}]]);export{G as default};
