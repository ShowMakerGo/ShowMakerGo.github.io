import{d as o,o as t,b as s,j as e,X as n,q as i,a,v as l,h as d,C as c,x as r,k as p,R as u,_ as m,y as f,w as g,c as k,i as C,D as I,G as v,Y as h,Z as _,a0 as b,a1 as y,r as D,J as w,T as j,K as O,F as P,l as $,a2 as S,O as A,N as E,Q as T,a3 as L,g as B}from"./index-9a4aa426.js";import{_ as N}from"./button.37ee0c5d.js";import{_ as G}from"./swipe.6ccb0ac0.js";import{u as x}from"./useTranslate.6f3ff1af.js";import"./useTouch.ef102360.js";import"./useRect.14507623.js";import"./useSelectorQuery.5ef6b069.js";const H=`${u}-address-list-item`,{translate:R}=x(`${u}-address-list`),q=o({name:H,options:{virtualHost:!0,addGlobalClass:!0}}),Q=m(o({...q,props:{item:{type:Object,default:()=>{}}},emits:["delIcon","editIcon","clickItem"],setup(o,{emit:u}){const m=o,f=u;function g(o){f("delIcon",o,m.item),o.stopPropagation()}function k(o){f("editIcon",o,m.item),o.stopPropagation()}function C(o){f("clickItem",o,m.item),o.stopPropagation()}return(u,m)=>(t(),s("div",{class:"hs-address-list-item",onClick:C},[e("div",{class:"hs-address-list-item__info"},[e("div",{class:"hs-address-list-item__info-contact"},[n(u.$slots,"content-top",{},(()=>[e("div",{class:"hs-address-list-item__info-contact-name"},i(o.item.addressName),1),e("div",{class:"hs-address-list-item__info-contact-tel"},i(o.item.phone),1),o.item.defaultAddress?(t(),s("div",{key:0,class:"hs-address-list-item__info-contact-default"},i(a(R)("default")),1)):l("",!0)]),!0)]),e("div",{class:"hs-address-list-item__info-handle"},[n(u.$slots,"content-icon",{},(()=>[d(r,{name:"del","custom-class":"hs-address-list-item__info-handle-del",onClick:c(g,["stop"])}),d(r,{name:"edit","custom-class":"hs-address-list-item__info-handle-edit",onClick:c(k,["stop"])})]),!0)])]),e("div",{class:"hs-address-list-item__addr"},[n(u.$slots,"content-addr",{},(()=>[p(i(o.item.fullAddress),1)]),!0)])]))}}),[["__scopeId","data-v-43bfa8be"]]),Z=o({name:`${u}-address-list-general`,options:{virtualHost:!0,addGlobalClass:!0}}),F=m(o({...Z,props:{address:{type:Object},longPress:{type:Boolean,default:!1},swipeEdition:{type:Boolean,default:!1}},emits:["delIcon","editIcon","clickItem","longDown","longCopy","longSet","longDel","swipeDel"],setup(o,{emit:i}){const a=o,r=i;let u=null;const m=f(!1),I=f(!1);function v(o){r("delIcon",o,a.address),o.stopPropagation()}function h(o){r("editIcon",o,a.address),o.stopPropagation()}function _(o){m.value||(r("clickItem",o,a.address),o.stopPropagation())}function b(o){r("longDel",o,a.address),o.stopPropagation()}function y(o){u=setTimeout((()=>{!function(o){u=0,I.value=!0,r("longDown",o,a.address)}(o)}),300)}function D(){clearTimeout(u)}function w(){clearTimeout(u)}function j(){I.value=!1}function O(o){r("longCopy",o,a.address),o.stopPropagation()}function P(o){r("longSet",o,a.address),o.stopPropagation()}function $(o){0!==u&&(I.value=!1),o.stopPropagation(),o.preventDefault()}function S(o){r("swipeDel",o,a.address),o.stopPropagation()}function A(){m.value=!1}function E(){m.value=!0}return(i,a)=>{const r=C;return o.swipeEdition?(t(),k(G,{key:1},{right:g((()=>[d(r,{style:{height:"100%"}},{default:g((()=>[n(i.$slots,"swipe-right-btn",{},(()=>[d(N,{shape:"square","custom-style":"height: 100%;",type:"danger",onClick:c(S,["stop"])},{default:g((()=>[p(" 删除 ")])),_:1})]),!0)])),_:3})])),default:g((()=>[e("div",{class:"hs-address-list-swipe"},[d(Q,{item:o.address,onDelIcon:v,onEditIcon:h,onClickItem:_,onTouchmove:E,onTouchstart:A},{"content-top":g((()=>[n(i.$slots,"content-info",{},void 0,!0)])),"content-icon":g((()=>[n(i.$slots,"content-icons",{},void 0,!0)])),"content-addr":g((()=>[n(i.$slots,"content-addrs",{},void 0,!0)])),_:3},8,["item"])])])),_:3})):(t(),s("div",{key:0,class:"hs-address-list-general"},[d(Q,{item:o.address,onDelIcon:v,onEditIcon:h,onClickItem:_,onTouchstart:y,onTouchend:w,onTouchmove:D},{"content-top":g((()=>[n(i.$slots,"content-info",{},void 0,!0)])),"content-icon":g((()=>[n(i.$slots,"content-icons",{},void 0,!0)])),"content-addr":g((()=>[n(i.$slots,"content-addrs",{},void 0,!0)])),_:3},8,["item"]),o.longPress&&I.value?(t(),s("div",{key:0,class:"hs-address-list-general__mask",onClick:$},[n(i.$slots,"longpress-all",{},(()=>[e("div",{class:"hs-address-list-general__mask-copy",onClick:O}," 复制地址 "),e("div",{class:"hs-address-list-general__mask-set",onClick:P}," 设置默认 "),e("div",{class:"hs-address-list-general__mask-del",onClick:b}," 删除地址 ")]),!0)])):l("",!0),I.value?(t(),s("div",{key:1,class:"hs-address-list__mask-bottom",onClick:j})):l("",!0)]))}}}),[["__scopeId","data-v-d227e277"]]),J={...I,data:v([]),longPress:Boolean,swipeEdition:Boolean,showBottomButton:h,options:_({})},K={delIcon:(o,t,s)=>o instanceof Object&&t instanceof Object&&(b(s)||y(s)),editIcon:(o,t,s)=>o instanceof Object&&t instanceof Object&&(b(s)||y(s)),clickItem:(o,t,s)=>o instanceof Object&&t instanceof Object&&(b(s)||y(s)),longCopy:(o,t,s)=>o instanceof Object&&t instanceof Object&&(b(s)||y(s)),longSet:(o,t,s)=>o instanceof Object&&t instanceof Object&&(b(s)||y(s)),longDel:(o,t,s)=>o instanceof Object&&t instanceof Object&&(b(s)||y(s)),swipeDel:(o,t,s)=>o instanceof Object&&t instanceof Object&&(b(s)||y(s)),add:o=>o instanceof Object},U=`${u}-address-list`,{translate:V}=x(U),W=o({name:U,options:{virtualHost:!0,addGlobalClass:!0}}),X=m(o({...W,props:J,emits:K,setup(o,{emit:e}){const c=o,r=e,u=f([]),m=D({id:2,addressName:"姓名",phone:"123****4567",defaultAddress:!1,fullAddress:"北京市通州区测试测试测试测试测试测试测试测试测试"}),C=w((()=>T(c,U)));function I(){Object.keys(c.options).length>0&&(u.value=c.data.map((o=>L(m,o,c.options))))}function v(o){r("add",o),o.stopPropagation()}return j((()=>c.data),(()=>I()),{deep:!0}),O((()=>{I()})),(o,e)=>(t(),s("div",{class:A(C.value),style:E(o.customStyle)},[(t(!0),s(P,null,$(u.value,((s,e)=>(t(),k(F,{key:e,address:s,"long-press":o.longPress,"swipe-edition":o.swipeEdition,onDelIcon:o=>function(o,t,s){r("delIcon",o,t,s),o.stopPropagation()}(o,s,e),onEditIcon:o=>function(o,t,s){r("editIcon",o,t,s),o.stopPropagation()}(o,s,e),onClickItem:o=>function(o,t,s){r("clickItem",o,t,s),o.stopPropagation()}(o,s,e),onSwipeDel:o=>function(o,t,s){r("swipeDel",o,t,s),o.stopPropagation()}(o,s,e),onLongCopy:o=>function(o,t,s){r("longCopy",o,t,s),o.stopPropagation()}(o,s,e),onLongSet:o=>function(o,t,s){r("longSet",o,t,s),o.stopPropagation()}(o,s,e),onLongDel:o=>function(o,t,s){r("longDel",o,t,s),o.stopPropagation()}(o,s,e)},S({"content-info":g((()=>[n(o.$slots,"itemInfos",{item:s},void 0,!0)])),"content-icons":g((()=>[n(o.$slots,"itemIcon",{item:s},void 0,!0)])),"content-addrs":g((()=>[n(o.$slots,"itemAddr",{item:s},void 0,!0)])),_:2},[o.longPress?{name:"longpress-all",fn:g((()=>[n(o.$slots,"longpressBtns",{item:s},void 0,!0)])),key:"0"}:void 0,o.swipeEdition?{name:"swipe-right-btn",fn:g((()=>[n(o.$slots,"swipeRight",{item:s},void 0,!0)])),key:"1"}:void 0]),1032,["address","long-press","swipe-edition","onDelIcon","onEditIcon","onClickItem","onSwipeDel","onLongCopy","onLongSet","onLongDel"])))),128)),o.showBottomButton?(t(),s("div",{key:0,class:"hs-address-list__bottom",onClick:v},[d(N,{block:"",type:"danger"},{default:g((()=>[p(i(a(V)("addAddress")),1)])),_:1})])):l("",!0)],6))}}),[["__scopeId","data-v-aab42bfe"]]);const Y=m({setup:()=>({clickItem:()=>{console.log("Click To Address")},data:f([{testid:3,testaddressName:"姓名",phone:"123****4567",defaultAddress:!1,fullAddress:"北京市通州区测试测试测试测试测试测试测试测试测试"},{testid:4,testaddressName:"姓名",phone:"123****4567",defaultAddress:!0,fullAddress:"北京市通州区测试测试测试测试测试测试测试测试测试"}]),delClick:()=>{console.log("Click To Delete")},editClick:()=>{console.log("Click To Edit")},copyClick:()=>{console.log("Click To Copy")},setClick:()=>{console.log("Click On Settings")},delClickLong:()=>{console.log("Click On DelClickLong")},delClickSwipe:()=>{console.log("Click On DelClickSwipe")},addAddress:()=>{console.log("Click To Add")},dataOptions:D({id:"testid",addressDetail:"testaddressDetail",addressName:"testaddressName"})})},[["render",function(o,s,n,i,a,l){const c=X,r=B("layout-default-uni");return t(),k(r,null,{default:g((()=>[e("div",{class:"demo full h-100vh!"},[e("h2",{class:"title"}," 基础用法 "),d(c,{data:i.data,"show-bottom-button":!1,options:i.dataOptions,onDelIcon:i.delClick,onEditIcon:i.editClick,onClickItem:i.clickItem},null,8,["data","options","onDelIcon","onEditIcon","onClickItem"]),e("h2",{class:"title"}," 长按功能 "),d(c,{data:i.data,"long-press":"","show-bottom-button":!1,options:i.dataOptions,onDelIcon:i.delClick,onEditIcon:i.editClick,onClickItem:i.clickItem,onLongCopy:i.copyClick,onLongSet:i.setClick,onLongDel:i.delClickLong},null,8,["data","options","onDelIcon","onEditIcon","onClickItem","onLongCopy","onLongSet","onLongDel"]),e("h2",{class:"title"}," 滑动功能 "),d(c,{data:i.data,"swipe-edition":"","show-bottom-button":"",options:i.dataOptions,onDelIcon:i.delClick,onEditIcon:i.editClick,onClickItem:i.clickItem,onSwipeDel:i.delClickSwipe,onAdd:i.addAddress},null,8,["data","options","onDelIcon","onEditIcon","onClickItem","onSwipeDel","onAdd"])])])),_:1})}]]);export{Y as default};
