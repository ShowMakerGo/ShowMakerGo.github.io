import{_ as t,a as e}from"./index.d8afc0df.js";import{_ as o}from"./index.cea051f7.js";import{D as s,a5 as a,G as l,E as u,Y as r,S as n,ab as i,ac as c,aj as d,a0 as m,a6 as p,d as h,aT as f,r as g,y as w,J as k,K as v,T,o as b,c as y,w as V,v as _,b as x,F as j,l as C,a as U,O,N as S,X as $,h as H,x as P,k as E,q as I,Q as N,i as B,R as Q,_ as W,t as z,g as A,j as G,m as R}from"./index-9a4aa426.js";import{N as q}from"./popover.bb387837.js";import{u as D}from"./useRect.14507623.js";import{_ as F}from"./cell.b00ee112.js";/* empty css              */import{_ as J}from"./index.adc22293.js";import"./useSelectorQuery.5ef6b069.js";import"./badge.b3ca73d0.js";import"./popup.ce3c8dc4.js";import"./transition.47a8b3f2.js";import"./overlay.65ef5d67.js";import"./form.b2296b86.js";import"./useInject.f710a5e3.js";const K={...s,modelValue:Boolean,type:a("step"),steps:l([]),location:a("bottom"),current:u(0),nextStepTxt:a("下一步"),prevStepTxt:a("上一步"),completeTxt:a("完成"),mask:r,offset:l([8,10]),bgColor:String,theme:a("light"),maskWidth:n(""),maskHeight:n(""),closeOnClickOverlay:r,showPrevStep:r,showTitleBar:r},X={[i]:t=>c(t),[d]:t=>m(t),[p]:t=>m(t)},Y=`${Q}-tour`,L=h({name:Y,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),M=W(h({...L,props:K,emits:X,setup(t,{emit:e}){const o=t,s=e,a=f(),l=g({showTour:o.modelValue,active:0}),u=w([!1]),r=[],n=w([]),c=k((()=>N(o,Y)));function m(t){const e=l.active;let o=e;o="next"===t?e+1:e-1,u.value[e]=!1,setTimeout((()=>{u.value[o]=!0,l.active=o}),300),s(p,l.active)}function h(){o.steps.forEach((async(t,e)=>{let s;s=await D(t.target),r[e]=s,function(t){const{offset:e,maskWidth:s,maskHeight:a}=o;if(!r[t])return{};const{width:l,height:u,left:i,top:c}=r[t],d=[i+l/2,c+u/2],m=Number(s||l),p=Number(a||u),h={width:`${m+2*+e[1]}px`,height:`${p+2*+e[0]}px`,top:d[1]-p/2-+e[0]+"px",left:d[0]-m/2-+e[1]+"px"};n.value[t]=h}(e)}))}function Q(){l.showTour=!1,u.value[l.active]=!1,s(d,l.active),s(i,!1)}function W(){o.closeOnClickOverlay&&Q()}return v((()=>{setTimeout((()=>{h()}),500)})),T((()=>o.modelValue),(t=>{t&&(l.active=0,h()),l.showTour=t,u.value[l.active]=t})),(t,e)=>{const o=B;return b(),y(o,{class:O(c.value),style:S(t.customStyle)},{default:V((()=>[l.showTour?(b(),y(o,{key:0,class:"hs-tour-masked",onClick:W})):_("",!0),(b(!0),x(j,null,C(t.steps,((s,r)=>(b(),y(o,{key:r,style:{height:"0"}},{default:V((()=>[l.showTour?(b(),y(o,{key:0,id:`hs-tour-popid${r}${U(a)}`,class:O(["hs-tour-mask",[t.mask?u.value[r]?"":"hs-tour-mask-hidden":"hs-tour-mask-none"]]),style:S(n.value[r])},null,8,["id","class","style"])):_("",!0),l.showTour?(b(),y(q,{key:1,visible:u.value[r],"onUpdate:visible":t=>u.value[r]=t,location:s.location||t.location,"target-id":`hs-tour-popid${r}${U(a)}`,"bg-color":t.bgColor,theme:t.theme,"close-on-click-outside":!1,offset:s.popoverOffset||[0,12],"arrow-offset":s.arrowOffset||0,duration:200},{content:V((()=>[$(t.$slots,"default",{},(()=>["step"===t.type?(b(),y(o,{key:0,class:"hs-tour-content"},{default:V((()=>[t.showTitleBar?(b(),y(o,{key:0,class:"hs-tour-content-top"},{default:V((()=>[H(o,{onClick:Q},{default:V((()=>[H(P,{name:"close",class:"hs-tour-content-top-close",size:"10px"})])),_:1})])),_:1})):_("",!0),H(o,{class:"hs-tour-content-inner"},{default:V((()=>[E(I(s.content),1)])),_:2},1024),H(o,{class:"hs-tour-content-bottom"},{default:V((()=>[H(o,{class:"hs-tour-content-bottom-init"},{default:V((()=>[E(I(l.active+1)+"/"+I(t.steps.length),1)])),_:1}),H(o,{class:"hs-tour-content-bottom-operate"},{default:V((()=>[$(t.$slots,"prev-step",{},(()=>[0!==l.active&&t.showPrevStep?(b(),y(o,{key:0,class:"hs-tour-content-bottom-operate-btn",onClick:e[0]||(e[0]=t=>m("prev"))},{default:V((()=>[E(I(t.prevStepTxt),1)])),_:1})):_("",!0)]),!0),t.steps.length-1===l.active?(b(),y(o,{key:0,class:"hs-tour-content-bottom-operate-btn active",onClick:Q},{default:V((()=>[E(I(t.completeTxt),1)])),_:1})):_("",!0),$(t.$slots,"next-step",{},(()=>[t.steps.length-1!==l.active?(b(),y(o,{key:0,class:"hs-tour-content-bottom-operate-btn active",onClick:e[1]||(e[1]=t=>m("next"))},{default:V((()=>[E(I(t.nextStepTxt),1)])),_:1})):_("",!0)]),!0)])),_:3})])),_:3})])),_:2},1024)):_("",!0),"tile"===t.type?(b(),y(o,{key:1,class:"hs-tour-content hs-tour-content-tile"},{default:V((()=>[H(o,{class:"hs-tour-content-inner"},{default:V((()=>[E(I(s.content),1)])),_:2},1024)])),_:2},1024)):_("",!0)]),!0)])),_:2},1032,["visible","onUpdate:visible","location","target-id","bg-color","theme","offset","arrow-offset"])):_("",!0)])),_:2},1024)))),128))])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-dce377c5"]]);const Z=W({setup(){const t=g({switchValue:!1,showTour:!1,showTour1:!1,showTour2:!1,showTour3:!1,showTour4:!1,offset:[-3,-8],steps:[{content:"70+ 高质量组件，覆盖移动端主流场景",target:"target1"},{content:"支持一套代码同时开发多端小程序",target:"target2"},{content:"基于京东APP 10.0 视觉规范",target:"target3",location:"top-end"},{content:"支持定制主题，内置 700+ 个主题变量",target:"target4",location:"top-end"}],steps1:[{content:"70+ 高质量组件，覆盖移动端主流场景",target:"target5"}],steps2:[{content:"支持一套代码同时开发多端小程序+H5",target:"target6",popoverOffset:[40,12],arrowOffset:-36}],steps3:[{content:"70+ 高质量组件，覆盖移动端主流场景",target:"target7"}],steps4:[{target:"target8"}],type:"normal"});return{...z(t),showTourHandle:()=>{t.showTour1=!0}}}},[["render",function(s,a,l,u,r,n){const i=J,c=F,d=M,m=R,p=B,h=o,f=t,g=e,w=A("layout-default-uni");return b(),y(w,null,{default:V((()=>[G("div",{class:"demo"},[G("h2",{class:"title"}," 基础用法 "),H(c,{title:"点击试试",onClick:a[1]||(a[1]=t=>s.showTour3=!0)},{link:V((()=>[H(i,{id:"target7",modelValue:s.switchValue,"onUpdate:modelValue":a[0]||(a[0]=t=>s.switchValue=t)},null,8,["modelValue"])])),_:1}),H(d,{modelValue:s.showTour3,"onUpdate:modelValue":a[2]||(a[2]=t=>s.showTour3=t),"custom-class":"hs-custom-tour hs-customword-tour",steps:s.steps3,type:"tile",location:"bottom-end"},null,8,["modelValue","steps"]),G("h2",{class:"title"}," 自定义样式 "),H(c,{title:"点击试试"},{link:V((()=>[H(i,{id:"target5",modelValue:s.switchValue,"onUpdate:modelValue":a[3]||(a[3]=t=>s.switchValue=t),onClick:u.showTourHandle},null,8,["modelValue","onClick"])])),_:1}),H(d,{modelValue:s.showTour1,"onUpdate:modelValue":a[4]||(a[4]=t=>s.showTour1=t),"custom-class":"hs-custom-tour hs-customword-tour hs-customstyle-tour",steps:s.steps1,location:"bottom-end",type:"tile","bg-color":"#f00",theme:"dark",offset:[0,0],"mask-width":"50","mask-height":"50"},null,8,["modelValue","steps"]),G("h2",{class:"title"}," 设置偏移量 "),H(c,{title:"点击试试",onClick:a[5]||(a[5]=t=>s.showTour2=!0)},{link:V((()=>[G("div",{class:"tour-demo-img"},[H(m,{id:"target6",src:"https://img14.360buyimg.com/imagetools/jfs/t1/167902/2/8762/791358/603742d7E9b4275e3/e09d8f9a8bf4c0ef.png",alt:""}),H(m,{src:"https://img10.360buyimg.com/imagetools/jfs/t1/31842/40/20385/1762/63998e3eE594254bb/98ff51da635ead4a.png",alt:""})])])),_:1}),H(d,{modelValue:s.showTour2,"onUpdate:modelValue":a[6]||(a[6]=t=>s.showTour2=t),"custom-class":"hs-custom-tour hs-customword-tour",steps:s.steps2,type:"tile","bg-color":"#f00",theme:"dark",location:"bottom-end",offset:[8,8]},null,8,["modelValue","steps"]),G("h2",{class:"title"}," 自定义内容 "),H(c,{title:"点击试试"},{link:V((()=>[H(i,{id:"target8",modelValue:s.switchValue,"onUpdate:modelValue":a[7]||(a[7]=t=>s.switchValue=t),onClick:a[8]||(a[8]=t=>s.showTour4=!0)},null,8,["modelValue"])])),_:1}),H(d,{modelValue:s.showTour4,"onUpdate:modelValue":a[10]||(a[10]=t=>s.showTour4=t),"custom-class":"hs-custom-tour hs-customword-tour",steps:s.steps4,type:"tile",theme:"dark",location:"bottom-end",offset:[8,8]},{default:V((()=>[H(p,{class:"tour-demo-custom-content"},{default:V((()=>[H(p,null,{default:V((()=>[E("Hisugar-Uni-Ui 4.x 即将发布，敬请期待")])),_:1}),H(h,{direction:"vertical"}),H(p,{onClick:a[9]||(a[9]=t=>s.showTour4=!1)},{default:V((()=>[E(" 知道了 ")])),_:1})])),_:1})])),_:1},8,["modelValue","steps"]),G("h2",{class:"title"}," 步骤引导 "),H(c,{title:"点击试试",onClick:a[11]||(a[11]=t=>s.showTour=!0)}),H(g,null,{default:V((()=>[H(f,{id:"target1","tab-title":"首页"}),H(f,{id:"target2","tab-title":"分类"}),H(f,{id:"target3","tab-title":"购物车"}),H(f,{id:"target4","tab-title":"我的"})])),_:1}),H(d,{modelValue:s.showTour,"onUpdate:modelValue":a[12]||(a[12]=t=>s.showTour=t),"custom-class":"hs-customword-tour",steps:s.steps,location:"top-start",offset:[0,0],"mask-width":"60","mask-height":"50"},null,8,["modelValue","steps"])])])),_:1})}],["__scopeId","data-v-30415da7"]]);export{Z as default};
