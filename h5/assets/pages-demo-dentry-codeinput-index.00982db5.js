import{D as l,Y as e,S as a,a5 as o,a6 as s,a1 as t,at as n,ab as u,a0 as d,d as i,J as r,y as c,T as m,o as h,c as p,w as v,b as g,F as b,l as f,N as x,k as V,q as y,v as _,h as $,O as C,Q as R,au as B,av as k,i as z,p as S,I as U,R as j,_ as I,r as P,j as w,a as D,B as F,g as N}from"./index-9a4aa426.js";const T={...l,adjustPosition:e,maxlength:a(4),dot:Boolean,mode:o("box"),hairline:Boolean,space:a(10),modelValue:a(""),focus:Boolean,bold:Boolean,customColor:o("#606266"),fontSize:a(18),size:a(35),disabledKeyboard:Boolean,borderColor:o("#c9cacc"),disabledDot:e},K={[s]:l=>t(l),[n]:l=>t(l),finish:l=>t(l),[u]:l=>t(l)||d(l)},L=`${j}-code-input`,q=i({name:L,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),A=I(i({...q,props:T,emits:K,setup(l,{emit:e}){const a=l,o=e,t=r((()=>R(a,L))),d=c(""),i=c(a.focus),j=r((()=>Array.from({length:Number(a.maxlength)}))),I=r((()=>l=>{const e={width:`${a.size}px`,height:`${a.size}px`};return"box"===a.mode&&(e.border=`${a.hairline?.5:1}px solid ${a.borderColor}`,0===B(a.space)&&(0===l&&(e.borderTopLeftRadius="3px",e.borderBottomLeftRadius="3px"),l===j.value.length-1&&(e.borderTopRightRadius="3px",e.borderBottomRightRadius="3px"),l!==j.value.length-1&&(e.borderRight="none"))),l!==j.value.length-1?e.marginRight=`${a.space}px`:e.marginRight=0,e})),P=r((()=>String(d.value).split(""))),w=r((()=>{const l={};return l.height=a.hairline?"2px":"4px",l.width=`${a.size}px`,l.backgroundColor=a.borderColor,l}));function D(l){const e=l.detail.value;o(u,e),d.value=e,a.disabledDot&&k((()=>{d.value=e.replace(".","")})),o(s,e),o(n,e),String(e).length>=Number(a.maxlength)&&o("finish",e)}return m((()=>a.modelValue),(l=>{d.value=String(l).substring(0,+a.maxlength)}),{immediate:!0}),(l,e)=>{const o=z,s=S,n=U;return h(),p(o,{class:C(t.value),style:x(l.customStyle)},{default:v((()=>[(h(!0),g(b,null,f(j.value,((e,t)=>(h(),p(o,{key:t,class:"hs-code-input__item",style:x([I.value(t)])},{default:v((()=>[l.dot&&P.value.length>t?(h(),p(o,{key:0,class:"hs-code-input__item__dot"})):(h(),p(s,{key:1,style:x({fontSize:`${a.fontSize}px`,fontWeight:l.bold?"bold":"normal",color:l.customColor})},{default:v((()=>[V(y(P.value[t]),1)])),_:2},1032,["style"])),"line"===l.mode?(h(),p(o,{key:2,class:"hs-code-input__item__line",style:x([w.value])},null,8,["style"])):_("",!0),i.value&&P.value.length===t?(h(),p(o,{key:3,style:x({backgroundColor:l.customColor}),class:"hs-code-input__item__cursor"},null,8,["style"])):_("",!0)])),_:2},1032,["style"])))),128)),$(n,{disabled:l.disabledKeyboard,type:"number",focus:l.focus,value:d.value,maxlength:+l.maxlength,adjustPosition:l.adjustPosition,class:"hs-code-input__input",style:x({height:`${a.size}px`}),onInput:D,onFocus:e[0]||(e[0]=l=>i.value=!0),onBlur:e[1]||(e[1]=l=>i.value=!1)},null,8,["disabled","focus","value","maxlength","adjustPosition","style"])])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-1ef0452d"]]),G=i({__name:"index",setup(l){const e=P({val1:"",val2:"",val3:"",val4:""});function a(l){console.log(`内容改变，当前值为：${l}`)}function o(l){F({title:`输入结束，当前值为：${l}`,icon:"none"})}return(l,s)=>{const t=A,n=N("layout-default-uni");return h(),p(n,null,{default:v((()=>[w("div",{class:"demo"},[w("h2",{class:"title"}," 基础用法 "),$(t,{modelValue:D(e).val1,"onUpdate:modelValue":s[0]||(s[0]=l=>D(e).val1=l)},null,8,["modelValue"]),w("h2",{class:"title"}," 横线模式 "),$(t,{modelValue:D(e).val1,"onUpdate:modelValue":s[1]||(s[1]=l=>D(e).val1=l),mode:"line"},null,8,["modelValue"]),w("h2",{class:"title"}," 设置长度 "),$(t,{modelValue:D(e).val2,"onUpdate:modelValue":s[2]||(s[2]=l=>D(e).val2=l),maxlength:6},null,8,["modelValue"]),w("h2",{class:"title"}," 横线间距 "),$(t,{modelValue:D(e).val2,"onUpdate:modelValue":s[3]||(s[3]=l=>D(e).val2=l),space:0},null,8,["modelValue"]),w("h2",{class:"title"}," 细边框 "),$(t,{modelValue:D(e).val2,"onUpdate:modelValue":s[4]||(s[4]=l=>D(e).val2=l),mode:"box",space:0,maxlength:4,hairline:""},null,8,["modelValue"]),w("h2",{class:"title"}," 调整颜色 "),$(t,{modelValue:D(e).val3,"onUpdate:modelValue":s[5]||(s[5]=l=>D(e).val3=l),hairline:"","custom-color":"#f56c6c","border-color":"#f56c6c"},null,8,["modelValue"]),w("h2",{class:"title"},' 用"●"替代输入内容 '),$(t,{modelValue:D(e).val3,"onUpdate:modelValue":s[6]||(s[6]=l=>D(e).val3=l),dot:""},null,8,["modelValue"]),w("h2",{class:"title"}," 是否自动获取焦点 "),$(t,{modelValue:D(e).val4,"onUpdate:modelValue":s[7]||(s[7]=l=>D(e).val4=l),focus:!0},null,8,["modelValue"]),w("h2",{class:"title"}," 事件演示 "),$(t,{onChange:a,onFinish:o})])])),_:1})}}});export{G as default};
