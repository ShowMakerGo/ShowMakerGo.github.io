import{_ as t}from"./index.cea051f7.js";import{D as e,S as a,a5 as s,d as o,aT as l,y as n,J as u,K as i,aI as r,o as d,c,w as p,h as f,N as v,X as m,O as y,Q as h,aG as x,U as _,af as g,au as b,i as j,R as I,av as $,bl as k,P as w,_ as C,g as z,j as N,k as S}from"./index-9a4aa426.js";import{a as R}from"./env.43007fb8.js";import{u as T}from"./useRect.14507623.js";import{_ as H}from"./button.37ee0c5d.js";/* empty css              */import{_ as G}from"./cell.b00ee112.js";/* empty css              */import"./useSelectorQuery.5ef6b069.js";const L={...e,zIndex:[Number,String],offsetTop:a(0),customNavHeight:a(R?44:0),disabled:Boolean,bgColor:s("transparent"),index:[String,Number]},Q=`${I}-sticky`,V=o({name:Q,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),X=C(o({...V,props:L,setup(t){const e=t,a=w(),s=l(),o=`rootRef-${s}`,I=n(!1),C=n(0),z=n(0),N=n("auto"),S=n("auto"),R=n(!1),H=n([]),G=u((()=>h(e,Q))),L=u((()=>{const t={};return e.disabled?t.position="static":I.value?(t.position="sticky",t.zIndex=V.value,t.top=x(C.value)):t.height=R.value?`${S.value}px`:"auto",t.backgroundColor=e.bgColor,_(e,t)})),V=u((()=>e.zIndex?+e.zIndex:970)),X=u((()=>{const t={};return I.value||(t.position=R.value?"fixed":"static",t.top=`${C.value}px`,t.left=`${z.value}px`,t.width="auto"===N.value?"auto":`${N.value}px`,t.zIndex=V.value),t}));function B(){T(o,a).then((t=>{S.value=t.height.toString(),z.value=t.left,N.value=t.width.toString(),$((()=>{!function(){D();const t=k({thresholds:[.95,.98,1]});t.relativeToViewport({top:-C.value}),t.observe(`#${s}`,(t=>{!function(t){const e=t<=C.value;R.value=e}(t.boundingClientRect.top)})),H.value.push(t)}()}))}))}function D(){for(;0!==H.value.length;)H.value.pop().disconnect()}function E(){C.value=+b(e.offsetTop)+ +b(e.customNavHeight),async function(){(function(){const t=["","-webkit-","-ms-","-moz-","-o-"],e=t.length,a=document.createElement("div");for(let s=0;s<e;s++)if(a.style.position=`${t[s]}sticky`,""!==a.style.position)return!0;return!1})()&&(I.value=!0);"android"===g().platform.toLowerCase()&&Number(g())>8&&(I.value=!0);"ios"===g().platform.toLowerCase()&&(I.value=!0)}(),I.value||!e.disabled&&B()}return i((()=>{E()})),r((()=>{D()})),(t,e)=>{const a=j;return d(),c(a,{id:o,class:y(G.value),style:v([L.value])},{default:p((()=>[f(a,{style:v([X.value]),class:"hs-sticky__content"},{default:p((()=>[m(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-1737abfd"]]);const B=C(o({setup:()=>({container:n(null)})}),[["render",function(e,a,s,o,l,n){const u=G,i=j,r=H,v=X,m=t,y=z("layout-default-uni");return d(),c(y,null,{default:p((()=>[N("div",{class:"sticky-demo"},[N("h2",{class:"title"}," 基础用法 "),f(i,{class:"container"},{default:p((()=>[f(u,{title:"滚动页面,即可看到下方的按钮会吸顶"})])),_:1}),f(v,null,{default:p((()=>[f(r,{type:"primary",style:{"margin-left":"50px"}},{default:p((()=>[S(" 吸顶按钮 ")])),_:1})])),_:1}),N("h2",{class:"title"}," 吸顶距离 "),f(v,{"offset-top":"200"},{default:p((()=>[f(r,{type:"primary",style:{"margin-left":"50px"}},{default:p((()=>[S(" 吸顶距离 120px ")])),_:1})])),_:1}),f(i,{style:{height:"1500px"}}),f(m,null,{default:p((()=>[S("已到底部")])),_:1})])])),_:1})}],["__scopeId","data-v-950e87bf"]]);export{B as default};
