import{_ as e}from"./button.37ee0c5d.js";/* empty css              */import{D as t,a5 as a,Y as s,E as l,ap as o,a1 as i,al as n,d as r,a4 as d,J as c,y as u,r as h,K as f,aq as p,T as D,o as b,c as y,w as m,h as v,k,q as _,a as w,v as g,X as V,b as S,F as C,l as $,O as x,N as T,R as A,Q as I,i as H,ak as N,_ as j,aj as B,ai as O,ac as W,a2 as E,ar as F,t as P,B as R,g as M,j as U}from"./index-9a4aa426.js";import{p as Y,_ as q}from"./popup.ce3c8dc4.js";import{r as z}from"./raf.db71c386.js";import{g as G,c as J,i as L,a as Q,b as X,d as K,f as Z,e as ee,h as te,j as ae,k as se,l as le}from"./date.f291431c.js";import{a as oe}from"./env.43007fb8.js";import{u as ie}from"./useTranslate.6f3ff1af.js";import{_ as ne}from"./cell.b00ee112.js";/* empty css              */import"./transition.47a8b3f2.js";import"./overlay.65ef5d67.js";const re={...t,visible:Boolean,type:a("one"),poppable:s,isAutoBackFill:Boolean,title:a("日期选择"),defaultValue:{type:[String,Array]},startDate:a(G(0)),endDate:a(G(365)),showToday:s,startText:a("开始"),endText:a("结束"),confirmText:a("确认"),showTitle:s,showSubTitle:s,toDateAnimation:s,firstDayOfWeek:l(0),disabledDate:Function,footerSlot:Boolean,btnSlot:Boolean},de={[o]:e=>i(e)||e instanceof Object,close:()=>!0,update:()=>!0,[n]:e=>e},ce=r({name:`${A}-calendar-item`,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),ue=j(r({...ce,props:re,emits:de,setup(e,{expose:t,emit:a}){const s=e,l=a,i=d();t({scrollToDate:function(e){J(e,q.propStartDate)?e=q.propStartDate:J(e,q.propEndDate)||(e=q.propEndDate);const t=ne(e);q.monthsData.forEach(((e,a)=>{e.title===j("monthTitle",t[0],t[1])&&(q.scrollTop+=1,M.value=s.toDateAnimation,z((()=>{setTimeout((()=>{q.scrollTop=q.monthsData[a].cssScrollHeight,setTimeout((()=>{M.value=!1}),200)}),10)})))}))},initPosition:function(){q.scrollTop=Math.ceil(q.monthsData[q.currentIndex].cssScrollHeight)}});const r=`${A}-calendar-item`,{translate:j}=ie(r),B=c((()=>I(s,r,{"hs-calendar--nopop":!s.poppable,"hs-calendar--nofooter":s.isAutoBackFill}))),O=j("weekdays").map(((e,t)=>({day:e,weekend:0===t||6===t}))),W=u([...O.slice(s.firstDayOfWeek,7),...O.slice(0,s.firstDayOfWeek)]),E=u(2),F=u(null),P=u(0),R=c((()=>q.monthsData.slice(q.defaultRange[0],q.defaultRange[1]))),M=u(!1),U=c((()=>i.topInfo)),Y=c((()=>i.bottomInfo)),q=h({yearMonthTitle:"",defaultRange:[],containerHeight:"100%",currDate:"",propStartDate:"",propEndDate:"",unLoadPrev:!1,touchParams:{startY:0,endY:0,startTime:0,endTime:0,lastY:0,lastTime:0},transformY:0,translateY:0,scrollDistance:0,defaultData:[],chooseData:[],monthsData:[],dayPrefix:"hs-calendar__day",startData:"",endData:"",isRange:"range"===s.type,timer:0,currentIndex:0,avgHeight:0,scrollTop:0,monthsNum:0});function ne(e){return e.split("-")}function re(e){return L(q.currDate[0],e)}function de(e){return L(q.currDate[1],e)}function ce(e,t){return`${t.curData[0]}-${t.curData[1]}-${Q(+e.day)}`}function ue(e,t,a){const l=[];"number"!=typeof a||(a+1+s.firstDayOfWeek)%7!=0&&(a+s.firstDayOfWeek)%7!=0||l.push("weekend");const o=ce(e,t),{type:i}=s;return"curr"===e.type?L(q.currDate,o)||("range"===i||"week"===i)&&(re(o)||de(o))||"multiple"===i&&function(e){var t,a;return(null==(t=q.currDate)?void 0:t.length)>0&&(null==(a=q.currDate)?void 0:a.some((t=>L(t,e))))}(o)?l.push(`${q.dayPrefix}--active`):q.propStartDate&&J(o,q.propStartDate)||q.propEndDate&&J(q.propEndDate,o)||s.disabledDate&&s.disabledDate(o)?l.push(`${q.dayPrefix}--disabled`):("range"===i||"week"===i)&&Array.isArray(q.currDate)&&2===Object.values(q.currDate).length&&J(q.currDate[0],o)&&J(o,q.currDate[1])&&l.push(`${q.dayPrefix}--choose`):l.push(`${q.dayPrefix}--disabled`),l}function he(){const{type:e}=s;if("range"===e&&2===q.chooseData.length||"range"!==e){let t=q.chooseData.slice(0);"week"===e&&(t={weekDate:[pe(q.chooseData[0]),pe(q.chooseData[1])]}),l(o,t),s.poppable&&l("update")}}function fe(e,t,a=!1){var o,i;if(!ue(e,t).includes(`${q.dayPrefix}--disabled`)){const{type:r}=s,[d,c]=t.curData,u=[...t.curData];if(u[2]=Q(Number(e.day)),u[3]=`${u[0]}-${u[1]}-${u[2]}`,u[4]=X(+u[0],+u[1],+u[2]),"multiple"===r)if((null==(o=q.currDate)?void 0:o.length)>0){let e;null==(i=q.currDate)||i.forEach(((t,a)=>{t===u[3]&&(e=a)})),a?q.chooseData.push([...u]):void 0!==e?(q.currDate.splice(e,1),q.chooseData.splice(e,1)):(q.currDate.push(u[3]),q.chooseData.push([...u]))}else q.currDate=[u[3]],q.chooseData=[[...u]];else if("range"===r){const e=Object.values(q.currDate).length;2===e||0===e?q.currDate=[u[3]]:J(q.currDate[0],u[3])?Array.isArray(q.currDate)&&q.currDate.push(u[3]):Array.isArray(q.currDate)&&q.currDate.unshift(u[3]),2!==q.chooseData.length&&q.chooseData.length?J(q.chooseData[0][3],u[3])?q.chooseData=[...q.chooseData,[...u]]:q.chooseData=[[...u],...q.chooseData]:q.chooseData=[[...u]]}else if("week"===r){const t=K(d,c,e.day,s.firstDayOfWeek);q.propStartDate&&J(t[0],q.propStartDate)&&t.splice(0,1,q.propStartDate),q.propEndDate&&J(q.propEndDate,t[1])&&t.splice(1,1,q.propEndDate),q.currDate=t,q.chooseData=[Z(t[0]),Z(t[1])]}else q.currDate=u[3],q.chooseData=[...u];if(!a){let e=q.chooseData;"week"===r&&(e={weekDate:[pe(q.chooseData[0]),pe(q.chooseData[1])]}),l(n,e),!s.isAutoBackFill&&s.poppable||he()}}}function pe(e){const[t,a,l]=e;return{date:e,monthWeekNum:ee(t,a,l,s.firstDayOfWeek),yearWeekNum:te(t,a,l)}}function De(e){const t="prev"===e?q.monthsData[0]:q.monthsData[q.monthsData.length-1];let a=Number.parseInt(t.curData[0]),s=Number.parseInt(t.curData[1].toString().replace(/^0/,""));switch(e){case"prev":1===s&&(a-=1),s=1===s?12:--s;break;case"next":12===s&&(a+=1),s=12===s?1:++s}return[`${a}`,Q(s),`${se(String(a),String(s))}`]}function be(e,t,a){const{year:s,month:l}=a;return"prev"===t&&e>=7&&(e-=7),Array.from(Array(e),((e,a)=>({day:String(a+1),type:t,year:s,month:l})))}function ye(e,t,a,l){e-=s.firstDayOfWeek;const{year:o,month:i}=a;"prev"===t&&e>=7&&(e-=7);return Array.from(Array(l),((e,a)=>({day:String(a+1),type:t,year:o,month:i}))).slice(l-e)}function me(e,t){const a=le(+e[0],+e[1]);let s=Number(e[1])-1,l=Number(e[0]);s<=0&&(s=12,l+=1);const o=se(String(e[0]),String(e[1])),i=se(`${l}`,`${s}`),n={year:e[0],month:e[1]},r={curData:e,title:j("monthTitle",n.year,n.month),monthData:[...ye(a,"prev",{month:String(s),year:String(l)},i),...be(o,"curr",n)],cssHeight:0,cssScrollHeight:0};let d,c;oe?(d=46*E.value+16*E.value*2,c=128*E.value):(d=Math.floor(46*E.value)+2*Math.floor(16*E.value),c=Math.floor(128*E.value)),r.cssHeight=d+(r.monthData.length>35?6*c:5*c);let u=0;q.monthsData.length>0&&(u=q.monthsData[q.monthsData.length-1].cssScrollHeight+q.monthsData[q.monthsData.length-1].cssHeight),r.cssScrollHeight=u,"next"===t?q.endData&&J(`${q.endData[0]}-${q.endData[1]}-${se(q.endData[0],q.endData[1])}`,`${e[0]}-${e[1]}-${e[2]}`)||q.monthsData.push(r):q.startData&&J(`${e[0]}-${e[1]}-${e[2]}`,`${q.startData[0]}-${q.startData[1]}-01`)?q.unLoadPrev=!0:q.monthsData.unshift(r)}function ve(){const e=s.startDate?s.startDate:G(0),t=s.endDate?s.endDate:G(365);q.propStartDate=e,q.propEndDate=t,q.startData=ne(e),q.endData=ne(t),(s.defaultValue||Array.isArray(s.defaultValue)&&s.defaultValue.length>0)&&(q.currDate="one"!==s.type?[...s.defaultValue]:s.defaultValue);const a=Number(q.startData[0]),l=Number(q.startData[1]),o=Number(q.endData[0]);let i=Number(q.endData[1])-l;o-a>0&&(i+=12*(o-a)),i<=0&&(i=1),me(q.startData,"next");let n=1;do{me(De("next"),"next")}while(n++<i);if(q.monthsNum=i,"range"===s.type&&Array.isArray(q.currDate))q.currDate.length>0&&(e&&J(q.currDate[0],e)&&q.currDate.splice(0,1,e),t&&J(t,q.currDate[1])&&q.currDate.splice(1,1,t),q.defaultData=[...ne(q.currDate[0]),...ne(q.currDate[1])]);else if("multiple"===s.type&&Array.isArray(q.currDate)){if(q.currDate.length>0){const a=[],s={};q.currDate.forEach((l=>{e&&!J(l,e)&&t&&!J(t,l)&&(Object.hasOwnProperty.call(s,l)||(a.push(l),s[l]=l))})),q.currDate=[...a],q.defaultData=[...ne(a[0])]}}else if("week"===s.type&&Array.isArray(q.currDate)){if(q.currDate.length>0){const[a,l,o]=ne(q.currDate[0]),i=K(a,l,o,s.firstDayOfWeek);q.currDate=i,e&&J(q.currDate[0],e)&&q.currDate.splice(0,1,e),t&&J(t,q.currDate[1])&&q.currDate.splice(1,1,t),q.defaultData=[...ne(q.currDate[0]),...ne(q.currDate[1])]}}else q.currDate&&(e&&J(q.currDate,e)?q.currDate=e:t&&!J(q.currDate,t)&&(q.currDate=t),q.defaultData=[...ne(q.currDate)]);let r=0,d=0;q.defaultData.length>0&&q.monthsData.forEach(((e,t)=>{e.title===j("monthTitle",q.defaultData[0],q.defaultData[1])&&(r=t),"range"!==s.type&&"week"!==s.type||e.title===j("monthTitle",q.defaultData[3],q.defaultData[4])&&(d=t)})),ke(i,r),q.currentIndex=r,q.yearMonthTitle=q.monthsData[q.currentIndex].title,q.defaultData.length>0&&(q.isRange?(fe({day:q.defaultData[2],type:"curr"},q.monthsData[q.currentIndex],!0),fe({day:q.defaultData[5],type:"curr"},q.monthsData[d],!0)):"week"===s.type?fe({day:q.defaultData[2],type:"curr"},q.monthsData[q.currentIndex],!0):"multiple"===s.type?[...q.currDate].forEach((e=>{const t=ne(e);let a=q.currentIndex;q.monthsData.forEach(((e,s)=>{e.title===j("monthTitle",t[0],t[1])&&(a=s)})),fe({day:t[2],type:"curr"},q.monthsData[a],!0)})):fe({day:q.defaultData[2],type:"curr"},q.monthsData[q.currentIndex],!0));const c=q.monthsData[q.monthsData.length-1],u=c.cssHeight+c.cssScrollHeight;q.containerHeight=`${u}px`,q.scrollTop=Math.ceil(q.monthsData[q.currentIndex].cssScrollHeight),q.avgHeight=Math.floor(u/(i+1)),(null==F?void 0:F.value)&&(P.value=F.value.clientHeight)}function ke(e,t){e>=3?t>0&&t<e?q.defaultRange=[t-1,t+3]:0===t?q.defaultRange=[t,t+4]:t===e&&(q.defaultRange=[t-2,t+2]):q.defaultRange=[0,e+2];const a=q.monthsData[q.defaultRange[0]].cssScrollHeight;q.translateY=a}function _e(e,t){return("range"===s.type||"week"===s.type)&&"curr"===e.type&&ue(e,t).includes("hs-calendar__day--active")}function we(e,t){return _e(e,t)&&re(ce(e,t))}function ge(e,t){return!!(q.currDate.length>=2&&de(ce(e,t)))&&_e(e,t)}function Ve(){if(q.currDate.length>=2)return L(q.currDate[0],q.currDate[1])}function Se(e){const t=`${e.year}-${e.month}-${Number(e.day)<10?`0${e.day}`:e.day}`;return L(t,ae(new Date))}function Ce(e){if(q.monthsData.length<=1)return;const t=e.detail.scrollTop;let a=Math.floor(t/q.avgHeight);0===a?t>=q.monthsData[a+1].cssScrollHeight&&(a+=1):a>0&&a<q.monthsNum-1&&(t>=q.monthsData[a+1].cssScrollHeight&&(a+=1),t<q.monthsData[a].cssScrollHeight&&(a-=1)),q.currentIndex!==a&&(q.currentIndex=a,ke(q.monthsNum,a)),q.yearMonthTitle=q.monthsData[a].title}return f((()=>{p({success(e){let t=2,a=3;if(oe){a=5;const e=document.documentElement.style.fontSize;t=Number((Number.parseInt(e)/40).toFixed(a))}else{const s=e.screenWidth;t=Number((s/750).toFixed(a))}E.value=t,ve()}})})),D((()=>s.defaultValue),(e=>{e&&s.poppable&&(q.chooseData.splice(0),q.monthsData.splice(0),ve())})),(e,t)=>{const a=H,s=N;return b(),y(a,{class:x(["hs-calendar",B.value]),style:T(e.customStyle)},{default:m((()=>[v(a,{class:"hs-calendar__header"},{default:m((()=>[e.showTitle?(b(),y(a,{key:0,class:"hs-calendar__header-title"},{default:m((()=>[k(_(e.title||w(j)("title")),1)])),_:1})):g("",!0),e.btnSlot?(b(),y(a,{key:1,class:"hs-calendar__header-slot"},{default:m((()=>[V(e.$slots,"btn",{},void 0,!0)])),_:3})):g("",!0),e.showSubTitle?(b(),y(a,{key:2,class:"hs-calendar__header-subtitle"},{default:m((()=>[k(_(q.yearMonthTitle),1)])),_:1})):g("",!0),v(a,{class:"hs-calendar__weekdays"},{default:m((()=>[(b(!0),S(C,null,$(W.value,((e,t)=>(b(),y(a,{key:t,class:x(["hs-calendar__weekday",{weekend:e.weekend}])},{default:m((()=>[k(_(e.day),1)])),_:2},1032,["class"])))),128))])),_:1})])),_:3}),v(s,{ref_key:"months",ref:F,"scroll-top":q.scrollTop,"scroll-y":!0,class:"hs-calendar__content","scroll-with-animation":M.value,onScroll:Ce},{default:m((()=>[v(a,{class:"hs-calendar__panel",style:T({height:q.containerHeight})},{default:m((()=>[v(a,{class:"hs-calendar__body",style:T({transform:`translateY(${q.translateY}px)`})},{default:m((()=>[(b(!0),S(C,null,$(R.value,((t,s)=>(b(),y(a,{key:s,class:"hs-calendar__month"},{default:m((()=>[v(a,{class:"hs-calendar__month-title"},{default:m((()=>[k(_(t.title),1)])),_:2},1024),v(a,{class:"hs-calendar__days"},{default:m((()=>[v(a,{class:x(["hs-calendar__days-item","range"===e.type?"hs-calendar__days-item--range":""])},{default:m((()=>[(b(!0),S(C,null,$(t.monthData,((s,l)=>(b(),y(a,{key:l,class:x(["hs-calendar__day",ue(s,t,l)]),onClick:e=>fe(s,t)},{default:m((()=>[v(a,{class:"hs-calendar__day-value"},{default:m((()=>[V(e.$slots,"day",{date:"curr"===s.type?s:""},(()=>[k(_("curr"===s.type?s.day:""),1)]),!0)])),_:2},1024),U.value?(b(),y(a,{key:0,class:"hs-calendar__day-tips hs-calendar__day-tips--top"},{default:m((()=>[V(e.$slots,"topInfo",{date:"curr"===s.type?s:""},void 0,!0)])),_:2},1024)):g("",!0),Y.value?(b(),y(a,{key:1,class:"hs-calendar__day-tips hs-calendar__day-tips--bottom"},{default:m((()=>[V(e.$slots,"bottomInfo",{date:"curr"===s.type?s:""},void 0,!0)])),_:2},1024)):g("",!0),!Y.value&&e.showToday&&Se(s)?(b(),y(a,{key:2,class:"hs-calendar__day-tips--curr"},{default:m((()=>[k(_(w(j)("today")),1)])),_:1})):g("",!0),we(s,t)?(b(),y(a,{key:3,class:x(["hs-calendar__day-tip",{"hs-calendar__day-tips--top":Ve()}])},{default:m((()=>[k(_(e.startText||w(j)("start")),1)])),_:1},8,["class"])):g("",!0),ge(s,t)?(b(),y(a,{key:4,class:"hs-calendar__day-tip"},{default:m((()=>[k(_(e.endText||w(j)("end")),1)])),_:1})):g("",!0)])),_:2},1032,["class","onClick"])))),128))])),_:2},1032,["class"])])),_:2},1024)])),_:2},1024)))),128))])),_:3},8,["style"])])),_:3},8,["style"])])),_:3},8,["scroll-top","scroll-with-animation"]),e.poppable&&!e.isAutoBackFill?(b(),y(a,{key:0,class:"hs-calendar__footer"},{default:m((()=>[e.footerSlot?V(e.$slots,"footer",{key:0,date:q.chooseData},void 0,!0):(b(),y(a,{key:1,class:"hs-calendar__confirm",onClick:he},{default:m((()=>[k(_(e.confirmText||w(j)("confirm")),1)])),_:1}))])),_:3})):g("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-43eb4632"]]),he={...Y,...t,visible:Boolean,type:a("one"),poppable:s,isAutoBackFill:Boolean,title:a("日期选择"),defaultValue:{type:[String,Array]},startDate:a(G(0)),endDate:a(G(365)),showToday:s,startText:a("开始"),endText:a("结束"),confirmText:a("确认"),showTitle:s,showSubTitle:s,toDateAnimation:s,firstDayOfWeek:l(0),disabledDate:Function,footerSlot:Boolean,btnSlot:Boolean},fe={[o]:e=>i(e)||e instanceof Object,[B]:()=>!0,[O]:e=>W(e),[n]:e=>e},pe=r({name:`${A}-calendar`,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),De=j(r({...pe,props:he,emits:fe,setup(e,{expose:t,emit:a}){const s=e,l=a,i=d();t({scrollToDate:function(e){var t;null==(t=_.value)||t.scrollToDate(e)},initPosition:function(){var e;null==(e=_.value)||e.initPosition()}});const r=c({get:()=>s.visible,set(e){l("update:visible",e)}}),h=c((()=>i.btn)),f=c((()=>i.topInfo)),p=c((()=>i.day)),D=c((()=>i.bottomInfo)),k=c((()=>i.footer)),_=u(null);function w(){l(O,!1)}function g(){l(B),l(O,!1)}function S(e){g(),l(o,e)}function C(){var e,t,a,l;s.defaultValue&&(Array.isArray(s.defaultValue)?(null==(e=s.defaultValue)?void 0:e.length)&&(null==(a=_.value)||a.scrollToDate(null==(t=s.defaultValue)?void 0:t[0])):null==(l=_.value)||l.scrollToDate(s.defaultValue))}function $(e){l(n,e)}return(e,t)=>e.poppable?(b(),y(q,F({key:0},s,{visible:r.value,"onUpdate:visible":t[0]||(t[0]=e=>r.value=e),position:"bottom",round:"",closeable:"","custom-style":{height:"85vh"},"destroy-on-close":!1,onOpened:C}),{default:m((()=>[v(ue,{ref_key:"calendarRef",ref:_,visible:r.value,type:e.type,"is-auto-back-fill":e.isAutoBackFill,poppable:e.poppable,"custom-class":e.customClass,"custom-style":e.customStyle,title:e.title,"default-value":e.defaultValue,"start-date":e.startDate,"end-date":e.endDate,"confirm-text":e.confirmText,"start-text":e.startText,"end-text":e.endText,"show-today":e.showToday,"show-title":e.showTitle,"show-sub-title":e.showSubTitle,"to-date-animation":e.toDateAnimation,"first-day-of-week":e.firstDayOfWeek,"disabled-date":e.disabledDate,"footer-slot":e.footerSlot,"btn-slot":e.btnSlot,onUpdate:w,onClose:g,onChoose:S,onSelect:$},E({footer:m((t=>[V(e.$slots,"footer",{date:t.date},void 0,!0)])),_:2},[h.value?{name:"btn",fn:m((()=>[V(e.$slots,"btn",{},void 0,!0)])),key:"0"}:void 0,p.value?{name:"day",fn:m((t=>[V(e.$slots,"day",{date:t.date},void 0,!0)])),key:"1"}:void 0,f.value?{name:"topInfo",fn:m((t=>[V(e.$slots,"topInfo",{date:t.date},void 0,!0)])),key:"2"}:void 0,D.value?{name:"bottomInfo",fn:m((t=>[V(e.$slots,"bottomInfo",{date:t.date},void 0,!0)])),key:"3"}:void 0]),1032,["visible","type","is-auto-back-fill","poppable","custom-class","custom-style","title","default-value","start-date","end-date","confirm-text","start-text","end-text","show-today","show-title","show-sub-title","to-date-animation","first-day-of-week","disabled-date","footer-slot","btn-slot"])])),_:3},16,["visible"])):(b(),y(ue,{key:1,type:e.type,"is-auto-back-fill":e.isAutoBackFill,poppable:e.poppable,title:e.title,"confirm-text":e.confirmText,"start-text":e.startText,"end-text":e.endText,"default-value":e.defaultValue,"start-date":e.startDate,"end-date":e.endDate,"show-title":e.showTitle,"show-sub-title":e.showSubTitle,"to-date-animation":e.toDateAnimation,"show-today":e.showToday,"first-day-of-week":e.firstDayOfWeek,"disabled-date":e.disabledDate,"footer-slot":e.footerSlot,"btn-slot":e.btnSlot,onClose:g,onChoose:S,onSelect:$},E({_:2},[h.value?{name:"btn",fn:m((()=>[V(e.$slots,"btn",{},void 0,!0)])),key:"0"}:void 0,p.value?{name:"day",fn:m((t=>[V(e.$slots,"day",{date:t.date},void 0,!0)])),key:"1"}:void 0,f.value?{name:"topInfo",fn:m((t=>[V(e.$slots,"topInfo",{date:t.date},void 0,!0)])),key:"2"}:void 0,D.value?{name:"bottomInfo",fn:m((t=>[V(e.$slots,"bottomInfo",{date:t.date},void 0,!0)])),key:"3"}:void 0,k.value?{name:"footer",fn:m((t=>[V(e.$slots,"footer",{date:t.date},void 0,!0)])),key:"4"}:void 0]),1032,["type","is-auto-back-fill","poppable","title","confirm-text","start-text","end-text","default-value","start-date","end-date","show-title","show-sub-title","to-date-animation","show-today","first-day-of-week","disabled-date","footer-slot","btn-slot"]))}}),[["__scopeId","data-v-c239d71c"]]);function be(e){return((e=Number(e))>9?"":"0")+e}function ye(e,t){t=t||"-";return[e.getFullYear(),be(e.getMonth()+1),be(e.getDate())].join(t)}function me(e){e=e||0;let t=new Date;const a=864e5*e;return t=new Date(t.getTime()+a),ye(t)}const ve=j({props:{},setup(){const e=u(null),t=h({isVisible:!1,date:"2022-02-04",dateWeek:"",date1:["2020-01-23","2020-01-26"],date2:"2020-07-08",date3:"",date4:["2022-02-23","2022-04-26"],date5:[],date6:[],date7:["2022-02-23","2022-04-26"],date8:"",date9:["2020-01-23","2020-01-26"],date10:"2023-09-03",isVisible1:!1,isVisible2:!1,isVisible3:!1,isVisible4:!1,isVisible5:!1,isVisible6:!1,isVisible7:!1,isVisible8:!1,isVisible9:!1,isVisible10:!1,isVisible11:!1,disabled10:!1});return{...P(t),openSwitch:e=>{t[`${e}`]=!0},closeSwitch:e=>{t[`${e}`]=!1},setChooseValue:e=>{t.date=e[3],t.dateWeek=e[4]},setChooseValue1:e=>{t.date1=[e[0][3],e[1][3]]},setChooseValue2:e=>{t.date2=e[3]},setChooseValue3:e=>{t.date3=e[3]},setChooseValue4:e=>{t.date4=[e[0][3],e[1][3]]},setChooseValue5:e=>{t.date5=[e[0][3],e[1][3]]},setChooseValue6:e=>{t.date6=[e[0][3],e[1][3]]},clickBtn:()=>{const e=[ye(new Date),me(6)];t.date5=e},clickBtn1:()=>{const e=new Date,a=e.getFullYear();let s=e.getMonth()+1;s=s<10?`0${s}`:`${s}`;const l=`${a}-${s}`,o=function(e,t){return t.startsWith("0")&&(t=t.split("")[1]),[0,31,(a=Number(e),a%4==0&&a%100!=0||a%400==0?29:28),31,30,31,30,31,31,30,31,30,31][t];var a}(`${a}`,`${s}`);t.date5=[`${l}-01`,`${l}-${o}`]},setChooseValue7:e=>{const a=e.map((e=>e[3]));t.date7=[...a]},setChooseValue8:e=>{t.date8=e[3]},setChooseValue9:e=>{const{weekDate:a}=e;t.date9=[a[0].date[3],a[1].date[3]]},setSelectalue10:e=>{t.disabled10=e[2]%2==0},goDate:()=>{if(e.value){const t=new Date;t.setDate(t.getDate()+30),e.value.scrollToDate(ye(t))}},calendarRef:e,select:e=>{R({title:JSON.stringify(e)})},clickBtn10:e=>{t.date10=e.date[3],t.isVisible10=!1},disabledDate:e=>({"2022-01-05":!0,"2022-01-06":!0,"2022-01-10":!0,"2022-01-11":!0,"2022-01-12":!0,"2022-01-13":!0,"2022-01-14":!0}[e])}}},[["render",function(t,a,s,l,o,i){const n=ne,r=De,d=H,c=e,u=M("layout-default-uni");return b(),y(u,null,{default:m((()=>[U("div",{class:"demo calendar_demo"},[U("h2",{class:"title"}," 基础用法 "),U("div",null,[v(n,{"show-icon":!0,title:"选择单个日期",desc:t.date?`${t.date} ${t.dateWeek}`:"请选择",onClick:a[0]||(a[0]=e=>l.openSwitch("isVisible"))},null,8,["desc"]),v(r,{visible:t.isVisible,"onUpdate:visible":a[1]||(a[1]=e=>t.isVisible=e),"default-value":t.date,"start-date":"2022-01-11","end-date":"2022-11-30","is-auto-back-fill":!0,"safe-area-inset-bottom":"",onClose:a[2]||(a[2]=e=>l.closeSwitch("isVisible")),onChoose:l.setChooseValue},null,8,["visible","default-value","onChoose"])]),U("div",null,[v(n,{"show-icon":!0,title:"选择日期区间",desc:t.date1?`${t.date1[0]}至${t.date1[1]}`:"请选择",onClick:a[3]||(a[3]=e=>l.openSwitch("isVisible1"))},null,8,["desc"]),v(r,{visible:t.isVisible1,"onUpdate:visible":a[4]||(a[4]=e=>t.isVisible1=e),"default-value":t.date1,type:"range","start-date":"2019-12-22","end-date":"2021-01-08","safe-area-inset-bottom":"",onClose:a[5]||(a[5]=e=>l.closeSwitch("isVisible1")),onChoose:l.setChooseValue1,onSelect:l.select},null,8,["visible","default-value","onChoose","onSelect"])]),U("div",null,[v(n,{"show-icon":!0,title:"选择多个日期",desc:t.date7&&t.date7.length?`已选择${t.date7.length}个日期`:"请选择",onClick:a[6]||(a[6]=e=>l.openSwitch("isVisible7"))},null,8,["desc"]),v(r,{visible:t.isVisible7,"onUpdate:visible":a[7]||(a[7]=e=>t.isVisible7=e),"default-value":t.date7,type:"multiple","start-date":"2022-01-01","safe-area-inset-bottom":"","end-date":"2022-09-10",onClose:a[8]||(a[8]=e=>l.closeSwitch("isVisible7")),onChoose:l.setChooseValue7},null,8,["visible","default-value","onChoose"])]),U("div",null,[v(n,{"show-icon":!0,title:"周选择",desc:t.date9?`${t.date9[0]}至${t.date9[1]}`:"请选择",onClick:a[9]||(a[9]=e=>l.openSwitch("isVisible9"))},null,8,["desc"]),v(r,{visible:t.isVisible9,"onUpdate:visible":a[10]||(a[10]=e=>t.isVisible9=e),"default-value":t.date9,type:"week","start-date":"2019-12-22","end-date":"2021-01-08","first-day-of-week":1,onClose:a[11]||(a[11]=e=>l.closeSwitch("isVisible9")),onChoose:l.setChooseValue9,onSelect:l.select},null,8,["visible","default-value","onChoose","onSelect"])]),U("h2",{class:"title"}," 快捷选择 "),U("div",null,[v(n,{"show-icon":!0,title:"选择单个日期",desc:t.date3?t.date3:"请选择",onClick:a[12]||(a[12]=e=>l.openSwitch("isVisible3"))},null,8,["desc"]),v(r,{visible:t.isVisible3,"onUpdate:visible":a[13]||(a[13]=e=>t.isVisible3=e),"default-value":t.date3,"is-auto-back-fill":!0,onClose:a[14]||(a[14]=e=>l.closeSwitch("isVisible3")),onChoose:l.setChooseValue3},null,8,["visible","default-value","onChoose"])]),U("div",null,[v(n,{"show-icon":!0,title:"选择日期范围",desc:t.date4?`${t.date4[0]}至${t.date4[1]}`:"请选择",onClick:a[15]||(a[15]=e=>l.openSwitch("isVisible4"))},null,8,["desc"]),v(r,{visible:t.isVisible4,"onUpdate:visible":a[16]||(a[16]=e=>t.isVisible4=e),"default-value":t.date4,type:"range","start-date":"2022-01-01","end-date":"2022-12-31","safe-area-inset-bottom":"","is-auto-back-fill":!0,onClose:a[17]||(a[17]=e=>l.closeSwitch("isVisible4")),onChoose:l.setChooseValue4},null,8,["visible","default-value","onChoose"])]),U("h2",{class:"title"}," 自定义日历 "),U("div",null,[v(n,{"show-icon":!0,title:"自定义按钮",desc:t.date5&&t.date5[0]?`${t.date5[0]}至${t.date5[1]}`:"请选择",onClick:a[18]||(a[18]=e=>l.openSwitch("isVisible5"))},null,8,["desc"]),v(r,{ref:"calendarRef",visible:t.isVisible5,"onUpdate:visible":a[19]||(a[19]=e=>t.isVisible5=e),"default-value":t.date5,"safe-area-inset-bottom":"","btn-slot":!0,type:"range",onClose:a[20]||(a[20]=e=>l.closeSwitch("isVisible5")),onChoose:l.setChooseValue5},{btn:m((()=>[v(d,{class:"wrapper"},{default:m((()=>[v(d,{class:"d_div"},{default:m((()=>[v(d,{class:"d_btn",onClick:l.goDate},{default:m((()=>[k(" 去某个时间 ")])),_:1},8,["onClick"])])),_:1}),v(d,{class:"d_div"},{default:m((()=>[v(d,{class:"d_btn",onClick:l.clickBtn},{default:m((()=>[k(" 最近七天 ")])),_:1},8,["onClick"])])),_:1}),v(d,{class:"d_div"},{default:m((()=>[v(d,{class:"d_btn",onClick:l.clickBtn1},{default:m((()=>[k(" 当月 ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),day:m((e=>[v(d,null,{default:m((()=>[k(_(e.date.day),1)])),_:2},1024)])),_:1},8,["visible","default-value","onChoose"])]),U("div",null,[v(n,{"show-icon":!0,title:"自定义底部",desc:t.date10?`${t.date10}`:"请选择",onClick:a[21]||(a[21]=e=>l.openSwitch("isVisible10"))},null,8,["desc"]),v(r,{visible:t.isVisible10,"onUpdate:visible":a[22]||(a[22]=e=>t.isVisible10=e),"default-value":t.date10,poppable:!0,"is-auto-back-fill":!1,"footer-slot":"",onClose:a[23]||(a[23]=e=>l.closeSwitch("isVisible10")),onSelect:l.setSelectalue10},{footer:m((e=>[v(d,{class:"flex justify-center w-full"},{default:m((()=>[v(c,{size:"large",block:"",round:"",type:"primary",disabled:t.disabled10,onClick:t=>l.clickBtn10(e)},{default:m((()=>[k(_(t.disabled10?"偶数的日期不能选择":"奇数的日期可以选择"),1)])),_:2},1032,["disabled","onClick"])])),_:2},1024)])),_:1},8,["visible","default-value","onSelect"])]),U("div",null,[v(n,{"show-icon":!0,title:"自定义时间文案",desc:t.date6&&t.date6[0]?`${t.date6[0]}至${t.date6[1]}`:"请选择",onClick:a[24]||(a[24]=e=>l.openSwitch("isVisible6"))},null,8,["desc"]),v(r,{visible:t.isVisible6,"onUpdate:visible":a[25]||(a[25]=e=>t.isVisible6=e),"default-value":t.date6,"safe-area-inset-bottom":"",type:"range","start-date":"2022-01-01","end-date":"2022-12-31","confirm-text":"submit","start-text":"入店","end-text":"离店",title:"日期选择",onClose:a[26]||(a[26]=e=>l.closeSwitch("isVisible6")),onChoose:l.setChooseValue6},{day:m((e=>[v(d,null,{default:m((()=>[k(_(e.date.day<=9?`0${e.date.day}`:e.date.day),1)])),_:2},1024)])),bottomInfo:m((e=>[v(d,{class:"info"},{default:m((()=>{var t;return[k(_("10"===(null==(t=null==e?void 0:e.date)?void 0:t.day)?"十":""),1)]})),_:2},1024)])),_:1},8,["visible","default-value","onChoose"])]),U("h2",{class:"title"}," 自定义周起始日 "),U("div",null,[v(n,{"show-icon":!0,title:"自定义周起始日",desc:t.date8?`${t.date8}`:"请选择",onClick:a[27]||(a[27]=e=>l.openSwitch("isVisible8"))},null,8,["desc"]),v(r,{visible:t.isVisible8,"onUpdate:visible":a[28]||(a[28]=e=>t.isVisible8=e),"safe-area-inset-bottom":"","default-value":t.date8,"first-day-of-week":2,onClose:a[29]||(a[29]=e=>l.closeSwitch("isVisible8")),onChoose:l.setChooseValue8},null,8,["visible","default-value","onChoose"])]),U("h2",{class:"title"}," 自定义禁用日期 "),U("div",null,[v(n,{"show-icon":!0,title:"自定义禁用日期",desc:t.date?`${t.date}`:"请选择",onClick:a[30]||(a[30]=e=>l.openSwitch("isVisible11"))},null,8,["desc"]),v(r,{visible:t.isVisible11,"onUpdate:visible":a[31]||(a[31]=e=>t.isVisible11=e),"default-value":t.date,"start-date":"2022-01-01","end-date":"2022-11-30","disabled-date":l.disabledDate,onClose:a[32]||(a[32]=e=>l.closeSwitch("isVisible11")),onChoose:l.setChooseValue},null,8,["visible","default-value","disabled-date","onChoose"])]),U("h2",{class:"title"}," 平铺展示 "),U("div",{class:"test-calendar-wrapper"},[v(r,{poppable:!1,"default-value":t.date2,"safe-area-inset-bottom":"","is-auto-back-fill":!0,"start-date":"2020-02-01","end-date":"2020-12-30",onChoose:l.setChooseValue2},null,8,["default-value","onChoose"])])])])),_:1})}],["__scopeId","data-v-8e4e3212"]]);export{ve as default};
