import{D as e,E as a,d as s,y as t,J as l,T as u,o as n,b as o,F as i,l as d,O as v,c as r,N as c,Q as m,p,R as y,_ as f,w as x,g as h,j as k,h as _}from"./index-9a4aa426.js";const g={...e,time:a(1),speed:a(3e3),id:a(4)},j=`${y}-shakedice`,$=s({name:j,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),T=f(s({...$,props:g,emits:{end:()=>!0},setup(e,{expose:a,emit:s}){const y=e,f=s;a({shake:function(){if(h.value)return!1;h.value=!0,_.value=!0,setTimeout((()=>{h.value=!1}),y.speed)}});const x=t(6),h=t(!1),k=t({}),_=t(!1),g=t({transform:""}),$=l((()=>m(y,j)));return u((()=>_.value),(e=>{if(e){const e={animation:`rotate ${y.time}s infinite linear`};k.value={...k.value,...e},setTimeout((()=>{_.value=!1,k.value={animation:"none"};const e=[{value:1,x:0,y:0},{value:1,x:0,y:0},{value:2,x:90,y:0},{value:3,x:0,y:-90},{value:4,x:0,y:90},{value:5,x:-90,y:0},{value:6,x:0,y:180}][y.id];setTimeout((()=>{g.value.transform=`rotateX(${e.x}deg) rotateY(${e.y}deg)`}),0),f("end")}),y.speed)}else k.value={}})),(e,a)=>{const s=p;return n(),o("div",{class:v($.value),style:c([k.value,g.value,e.customStyle])},[(n(!0),o(i,null,d(new Array(x.value),((e,a)=>(n(),o("div",{key:a,class:v(["page",[`page${a+1}`]])},[(n(!0),o(i,null,d(new Array(a+1),((e,a)=>(n(),r(s,{key:a})))),128))],2)))),128))],6)}}}),[["__scopeId","data-v-96826783"]]);const w=f({props:{},setup(){const e=t(),a=t();return{jump:()=>{a.value=2,e.value.shake()},dice:e,id:a}}},[["render",function(e,a,s,t,l,u){const o=T,i=h("layout-default-uni");return n(),r(i,null,{default:x((()=>[k("div",{class:"demo h-100vh!"},[k("div",{class:"demo1"},[_(o,{id:t.id,ref:"dice"},null,8,["id"]),k("div",{class:"demoBtn",onClick:a[0]||(a[0]=(...e)=>t.jump&&t.jump(...e))}," 摇动 ")])])])),_:1})}],["__scopeId","data-v-a79dc1dc"]]);export{w as default};
