import{_ as a}from"./cell.b00ee112.js";/* empty css              */import{D as e,E as l,a5 as t,G as s,Y as n,a0 as u,a1 as o,aa as c,ab as i,d as r,y as d,J as p,T as h,o as m,c as v,w as _,h as f,k as g,q as x,a as y,b as C,F as M,l as A,O as V,v as j,N as S,Q as k,i as b,I as T,R as I,_ as w,r as B,g as N,j as O}from"./index-9a4aa426.js";import{_ as G}from"./inputnumber.7298c52c.js";import{u as L}from"./useTranslate.6f3ff1af.js";import"./form.b2296b86.js";import"./useInject.f710a5e3.js";const U={...e,modelValue:l(0),chooseText:t(""),otherValueText:t(""),list:s([]),cardAmountMin:l(1),cardAmountMax:l(9999),cardBuyMin:l(1),cardBuyMax:l(9999),placeholder:t(""),suffix:t("¥"),showOther:n,showStep:n},q={inputChange:a=>u(a),changeStep:(a,e)=>(u(a)||o(a))&&(u(e)||o(e)||c(e)),inputClick:()=>!0,change:a=>a instanceof Object,[i]:a=>u(a)},z=`${I}-ecard`,{translate:D}=L(z),E=r({name:z,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),F=w(r({...E,props:U,emits:q,setup(a,{emit:e}){const l=a,t=e,s=d(null),n=d(null),u=d(),o=d(l.cardAmountMin),c=d(l.modelValue),r=p((()=>k(l,z)));function I(a){const e=a.detail.value.replace(/[^\d]/g,"");u.value=e,n.value=e,Number(e)>l.cardAmountMax&&(u.value=l.cardAmountMax,n.value=l.cardAmountMax),Number(e)<l.cardAmountMin&&(u.value=l.cardAmountMin,n.value=l.cardAmountMin),t("inputChange",Number(u.value))}function w(){s.value="input",o.value=l.cardAmountMin,t(i,0),t("inputClick")}function B(a){o.value=a,t("changeStep",o.value,n.value)}return h((()=>l.modelValue),(a=>{c.value=a})),(a,e)=>{const i=b,d=T;return m(),v(i,{class:V(r.value),style:S(a.customStyle)},{default:_((()=>[f(i,{class:"hs-ecard__title"},{default:_((()=>[g(x(a.chooseText||y(D)("chooseText")),1)])),_:1}),f(i,{class:"hs-ecard__list"},{default:_((()=>[(m(!0),C(M,null,A(a.list,((a,e)=>(m(),v(i,{key:e,class:V(["hs-ecard__list__item",[s.value===e?"active":""]]),onClick:c=>function(a,e){s.value=e,u.value="",o.value=l.cardAmountMin,n.value=a.price,t("change",a)}(a,e)},{default:_((()=>[g(x(a.price),1)])),_:2},1032,["class","onClick"])))),128)),a.showOther?(m(),v(i,{key:0,class:V(["hs-ecard__list__input",["input"===s.value?"active":""]]),onClick:w},{default:_((()=>[f(i,null,{default:_((()=>[g(x(a.otherValueText||y(D)("otherValueText")),1)])),_:1}),f(i,{class:"hs-ecard__list__input--con"},{default:_((()=>[f(d,{value:u.value,type:"text",class:"hs-ecard-input",placeholder:a.placeholder||y(D)("placeholder"),onInput:I},null,8,["value","placeholder"]),g(" "+x(a.suffix),1)])),_:1})])),_:1},8,["class"])):j("",!0),a.showStep?(m(),v(i,{key:1,class:"hs-ecard__list__step"},{default:_((()=>[f(i,null,{default:_((()=>[g(x(a.suffix)+x(c.value),1)])),_:1}),f(G,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a),min:a.cardBuyMin,max:a.cardBuyMax,onChange:B},null,8,["modelValue","min","max","onChange"])])),_:1})):j("",!0)])),_:1})])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-c2fa0eac"]]);const H=w(r({setup(){const a=B([{price:10},{price:20},{price:30},{price:40}]),e=d(0);return{dataList:a,inputChange:a=>{e.value=a},change:a=>{e.value=a.price},money:e,changeStep:(a,l)=>{const t=+l*+a;e.value=t}}}}),[["render",function(e,l,t,s,n,u){const o=F,c=a,i=N("layout-default-uni");return m(),v(i,null,{default:_((()=>[O("div",{class:"demo h-100vh!"},[O("h2",{class:"title"}," 基础用法 "),f(c,null,{default:_((()=>[f(o,{modelValue:e.money,"onUpdate:modelValue":l[0]||(l[0]=a=>e.money=a),list:e.dataList,onInputChange:e.inputChange,onChange:e.change,onChangeStep:e.changeStep},null,8,["modelValue","list","onInputChange","onChange","onChangeStep"])])),_:1})])])),_:1})}]]);export{H as default};
