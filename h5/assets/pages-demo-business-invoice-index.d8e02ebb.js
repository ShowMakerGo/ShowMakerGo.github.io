import{D as e,G as a,Y as l,ac as o,d as r,y as s,J as t,K as u,T as m,o as d,c as i,w as n,h as p,b as c,F as f,l as b,k as v,q as y,v as h,O as _,N as I,Q as V,I as j,i as P,R as k,_ as q,r as g,g as O,j as x}from"./index-9a4aa426.js";import{a as S,_ as U}from"./formitem.e9e4d192.js";import{a as $,_ as w}from"./radio.c635880d.js";import{_ as B}from"./button.37ee0c5d.js";import"./cellgroup.a9fc1937.js";import"./form.b2296b86.js";import"./useInject.f710a5e3.js";import"./useProvide.92abce79.js";import"./cell.b00ee112.js";const C={...e,data:a([]),formValue:{type:Object,require:!0,default:{}},submit:l},G={onSubmit:(e,a)=>(o(e)||e instanceof Object)&&(o(a)||a instanceof Object),scrollBottom:()=>!0},K=`${k}-invoice`,L=r({name:K,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),N=q(r({...L,props:C,emits:G,setup(e,{emit:a}){const l=e,o=a,r=s(),k=s([]),q=t((()=>V(l,K)));function g(){k.value=l.data}function O(){var e;null==(e=r.value)||e.validate().then((({valid:e,errors:a})=>{o("onSubmit",e,a)}))}return u((()=>{g()})),m((()=>l.data),(()=>g()),{deep:!0}),(e,a)=>{const l=j,o=P;return d(),i(o,{class:_(q.value),style:I(e.customStyle)},{default:n((()=>[p(S,{ref_key:"formRef",ref:r,"model-value":e.formValue},{default:n((()=>[(d(!0),c(f,null,b(k.value,((a,o)=>(d(),i(U,{key:o,label:a.label,required:a.required,rules:a.rules,prop:a.formItemProp},{default:n((()=>["radio"===a.type?(d(),i($,{key:0,modelValue:e.formValue[a.formItemProp],"onUpdate:modelValue":l=>e.formValue[a.formItemProp]=l},{default:n((()=>[(d(!0),c(f,null,b(a.radioLabel,((e,a)=>(d(),i(w,{key:a,shape:"button",label:e.label},{default:n((()=>[v(y(e.label),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):(d(),i(l,{key:1,modelValue:e.formValue[a.formItemProp],"onUpdate:modelValue":l=>e.formValue[a.formItemProp]=l,class:"hs-input-text",placeholder:a.placeholder,type:"text"},null,8,["modelValue","onUpdate:modelValue","placeholder"]))])),_:2},1032,["label","required","rules","prop"])))),128))])),_:1},8,["model-value"]),e.submit?(d(),c("div",{key:0,class:"hs-invoice__submit"},[p(B,{type:"primary",block:"",onClick:O},{default:n((()=>[v(" 提交审批 ")])),_:1})])):h("",!0)])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-4d0c1dbd"]]);const R=q({setup(){const e=g({type:"企业",name:"",num:"",adress:"",tel:"",address:"",bank:"",account:""}),a=e=>new Promise((a=>{console.log("模拟异步验证中..."),setTimeout((()=>{a(/^400(-?)[0-9]{7}$|^1\d{10}$|^0[0-9]{2,3}-[0-9]{7,8}$/.test(e))}),1e3)}));return{data:s([{type:"radio",label:"类型",radioLabel:[{label:"测试企业"},{label:"测试个人或事业单位"}],formItemProp:"type",required:!0},{label:"抬头",placeholder:"请输入抬头",formItemProp:"name",required:!0},{label:"识别号",placeholder:"请输入识别号",formItemProp:"num",rules:[{message:"请输入识别号"}]},{label:"注册地址",placeholder:"请输入注册地址",formItemProp:"adress",rules:[{required:!0,message:"请输入地址"}],required:!0},{label:"号码",placeholder:"请输入号码",formItemProp:"tel",rules:[{required:!0,message:"请输入号码"},{validator:a,message:"号码格式不正确"}],required:!0},{label:"行",placeholder:"请输入行",formItemProp:"bank"},{label:"账户",placeholder:"请输入账户",formItemProp:"account"}]),formValue:e,submit:(a,l)=>{a?console.log("success",e):console.log("error submit!!",l)},asyncValidator:a}}},[["render",function(e,a,l,o,r,s){const t=N,u=O("layout-default-uni");return d(),i(u,null,{default:n((()=>[x("div",{class:"demo full h-100vh!"},[x("h2",{class:"title"}," 默认用法 (仅为组件示例，不会收集任何信息) "),p(t,{data:o.data,"form-value":o.formValue,onOnSubmit:o.submit},null,8,["data","form-value","onOnSubmit"])])])),_:1})}],["__scopeId","data-v-328586bc"]]);export{R as default};
