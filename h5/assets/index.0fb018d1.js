import{D as e,a5 as s,G as t,S as a,at as o,a1 as l,a0 as i,aj as r,ai as n,ac as y,ab as d,d as c,y as u,J as p,T as m,o as h,c as b,w as v,j as k,O as f,N as _,b as g,q as C,k as T,a as j,v as w,F as K,l as x,h as A,Q as V,p as B,m as E,R as O,_ as S}from"./index-9a4aa426.js";import{_ as G}from"./popup.ce3c8dc4.js";import{u as I}from"./useTranslate.6f3ff1af.js";const P={...e,visible:Boolean,modelValue:s(""),title:s(""),type:s("default"),randomKeys:Boolean,customKey:t([]),overlay:Boolean,maxlength:a(6),confirmText:s(""),popClass:s("")},$={[o]:e=>l(e)||i(e),delete:()=>!0,[r]:()=>!0,[n]:e=>y(e),[d]:e=>l(e)||i(e)},q=`${O}-number-keyboard`,{translate:D}=I(q),F=c({name:q,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),H=S(c({...F,props:P,emits:$,setup(e,{emit:s}){const t=e,a=s,l=u(void 0),i=u(t.visible),y=u(),c=p((()=>V(t,q)));function O(){const e=[];for(let s=1;s<=9;s++)e.push({id:s,type:"number"});return t.randomKeys?e.sort((()=>Math.random()>.5?1:-1)):e}const S=p((()=>"rightColumn"===t.type||""!==t.title?function(){const e=O(),{customKey:s}=t;let a=Array.isArray(s)?s:[s];return a.length>2&&(a=[a[0],a[1]]),2===a.length&&t.title&&"rightColumn"!==t.type&&(a=[a[0]]),1===a.length?t.title&&"rightColumn"!==t.type?e.push({id:a[0],type:"custom"},{id:0,type:"number"},{id:"delete",type:"delete"}):e.push({id:0,type:"number"},{id:a[0],type:"custom"}):2===a.length&&e.push({id:a[0],type:"custom"},{id:0,type:"number"},{id:a[1],type:"custom"}),e}():function(){const{customKey:e}=t;let s={id:"lock",type:"lock"};const a=Array.isArray(e)?e:[e];return 1===a.length&&(s={id:a[0],type:"custom"}),[...O(),s,{id:0,type:"number"},{id:"delete",type:"delete"}]}()));function I(e,s){s.stopPropagation(),l.value=e.id,"number"!==e.type&&"custom"!==e.type||(a(o,e.id),t.modelValue.length<t.maxlength&&a(d,t.modelValue+e.id)),"lock"===e.type&&F(),"delete"===e.type&&(a("delete"),a(d,t.modelValue.slice(0,t.modelValue.length-1)))}function P(e){e.stopPropagation()}function $(){l.value=void 0}function F(){a(r),a(n,!1)}return m((()=>t.visible),(e=>{i.value=e})),(e,s)=>{const t=B,a=E;return h(),b(G,{visible:i.value,"onUpdate:visible":s[5]||(s[5]=e=>i.value=e),position:"bottom","pop-class":e.popClass,overlay:e.overlay,"overlay-class":"hs-number-keyboard-overlay",onClickOverlay:s[6]||(s[6]=e=>F())},{default:v((()=>[k("div",{ref_key:"root",ref:y,class:f(c.value),style:_(e.customStyle)},[e.title?(h(),g("div",{key:0,class:"hs-number-keyboard__header"},[k("h3",{class:"hs-number-keyboard__title"},C(e.title),1),"default"===e.type?(h(),b(t,{key:0,class:"hs-number-keyboard__close",onClick:s[0]||(s[0]=e=>F())},{default:v((()=>[T(C(j(D)("done")),1)])),_:1})):w("",!0)])):w("",!0),k("div",{class:"hs-number-keyboard__body"},[k("div",{class:"hs-number-keyboard__keys"},[(h(!0),g(K,null,x(S.value,(t=>(h(),g("div",{key:`key${t.id}`,class:f(["hs-key__wrapper",[{"hs-key__wrapper--wider":0===t.id&&"rightColumn"===e.type&&Array.isArray(e.customKey)&&1===e.customKey.length}]])},[k("div",{class:f(["hs-key",[{"hs-key--active":t.id===l.value},{"hs-key--lock":"lock"===t.type},{"hs-key--delete":"delete"===t.type}]]),onTouchstart:e=>I(t,e),onTouchmove:s[1]||(s[1]=e=>P(e)),onTouchend:$},["number"===t.type||"custom"===t.type?(h(),g(K,{key:0},[T(C(t.id),1)],64)):w("",!0),"lock"===t.type?(h(),b(a,{key:1,src:"https://img11.360buyimg.com/imagetools/jfs/t1/146371/38/8485/738/5f606425Eca239740/14f4b4f5f20d8a68.png"})):w("",!0),"delete"===t.type?(h(),b(a,{key:2,src:"https://img11.360buyimg.com/imagetools/jfs/t1/129395/8/12735/2030/5f61ac37E70cab338/fb477dc11f46056c.png"})):w("",!0)],42,["onTouchstart"])],2)))),128))]),"rightColumn"===e.type?(h(),g("div",{key:0,class:"hs-number-keyboard__sidebar"},[k("div",{class:"hs-key__wrapper"},[k("div",{class:f(["hs-key",[{active:"delete"===l.value}]]),onTouchstart:s[2]||(s[2]=e=>I({id:"delete",type:"delete"},e)),onTouchmove:s[3]||(s[3]=e=>P(e)),onTouchend:$},[A(a,{src:"https://img11.360buyimg.com/imagetools/jfs/t1/129395/8/12735/2030/5f61ac37E70cab338/fb477dc11f46056c.png"})],34)]),k("div",{class:"hs-key__wrapper hs-key__wrapper--finish",onClick:s[4]||(s[4]=e=>F())},[k("div",{class:f(["hs-key hs-key--finish",[{activefinsh:"finish"===l.value}]])},C(e.confirmText||j(D)("done")),3)])])):w("",!0)])],6)])),_:1},8,["visible","pop-class","overlay"])}}}),[["__scopeId","data-v-a38bd3c9"]]);export{H as _};
